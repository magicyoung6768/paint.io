import{r as e,d as t,w as r,R as a,e as s,f as n,g as o,h as i,k as c,l,m,n as u,o as d,j as h,c as g,a as p}from"./index-DmJhNCd7.js";import{I as f,_ as y,g as v,u as x,a as b,c as _}from"./compiler-runtime-Bwq7bC82.js";import{u as w,C as N}from"./homeStore-dLmj6HdG.js";import"./index-Doj6Cm60.js";import{Q as k,b as C,a as S,u as j}from"./useRequestManager-A0871YKO.js";import{B as P}from"./http-BlXkAKY-.js";import{i as E,T as R,R as O,I as M}from"./ImageDetail-DNEwKZHw.js";import{R as $}from"./SearchOutlined-BJOGTRFw.js";import{R as z}from"./Dropdown-B-RDPCoR.js";import{M as D}from"./index-DDjlLUnH.js";import{R as L}from"./PlusOutlined-Di7KrOHW.js";import{A as I,D as F}from"./index-CCSHaxkm.js";import{R as q}from"./UserOutlined-Dxh74dLI.js";import{S as H}from"./index-bn_-uOSs.js";import{R as A}from"./DownloadOutlined-CrpZhemE.js";import{C as T}from"./CSSMotionList-C6yC67v9.js";import{u as B,r as K}from"./index-BfxBc13D.js";import{u as U}from"./useGutter-C33KTiRc.js";import{S as J}from"./index-CAPNepFi.js";import"./index-CPxKlTrn.js";import"./index-BG3s4Knf.js";import"./EllipsisOutlined-FR-wkGpY.js";import"./collapse-BIO5DT9H.js";import"./RightOutlined-5HERV0PD.js";import"./PictureOutlined-DG43DV4N.js";import"./SettingOutlined-y6Ng1YUo.js";import"./index-DVfEaQXd.js";import"./statusUtils-DwJfUzs0.js";import"./index-B6lbc1vE.js";import"./index-uxmaaX5q.js";var V={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},G.apply(this,arguments)}const Q=(t,r)=>e.createElement(f,G({},t,{ref:r,icon:V})),W=e.forwardRef(Q);var X={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"};function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Y.apply(this,arguments)}const Z=(t,r)=>e.createElement(f,Y({},t,{ref:r,icon:X})),ee=e.forwardRef(Z);var te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 000-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"}}]},name:"share-alt",theme:"outlined"};function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},re.apply(this,arguments)}const ae=(t,r)=>e.createElement(f,re({},t,{ref:r,icon:te})),se=e.forwardRef(ae);const ne=a.forwardRef((t,r)=>{const{item:o,style:i,prefixCls:c,itemRender:l,className:m,index:u,column:d,onResize:h}=t,g=`${c}-item`,p=e.useMemo(()=>o.children??l?.({...o,index:u,column:d}),[o,l,d,u]);let f=a.createElement("div",{ref:r,style:i,className:s(g,m)},p);return h&&(f=a.createElement(n,{onResize:h},f)),f}),oe=e=>{const{componentCls:t}=e,r=`${t}-item`;return{[t]:{position:"relative",boxSizing:"border-box",display:"flex",flexDirection:"column",flexWrap:"wrap","&-rtl":{direction:"rtl"},[`& > ${r}`]:{boxSizing:"border-box","&-fade":{"&-appear":{transition:`opacity ${e.motionDurationSlow} ${e.motionEaseOut}`,opacity:0,"&-active":{opacity:1}},"&-leave":{transition:`opacity ${e.motionDurationFast} ${e.motionEaseOut}`,opacity:1,"&-active":{opacity:0}}},[`&:not(${r}-fade)`]:{transition:["left","right","top"].map(t=>`${t} ${e.motionDurationSlow} ${e.motionEaseOut}`).join(",")}}}}},ie=v("Masonry",e=>[oe(e)]),ce=e.forwardRef((a,m)=>{const{rootClassName:u,className:d,style:h,classNames:g,styles:p,columns:f,prefixCls:v,gutter:_=0,items:w,itemRender:N,onLayoutChange:k,fresh:C}=a,{getPrefixCls:S,direction:j,className:P,style:E,classNames:R,styles:O}=o("masonry"),M=S("masonry",v),$=x(M),[z,D]=ie(M,$),L=e.useRef(null);e.useImperativeHandle(m,()=>({nativeElement:L.current}));const[I,F]=function(){const t=e.useRef(null);return null===t.current&&(t.current=new Map),[(e,r)=>{t.current.set(e,r)},e=>t.current.get(e)]}(),[q,H]=e.useState([]);e.useEffect(()=>{H(w||[])},[w]);const A=B(),J=U(_,A),[V=0,G=V]=J,Q=e.useMemo(()=>{if(!f)return 3;if("number"==typeof f)return f;const e=K.find(e=>A[e]&&void 0!==f[e]);return e?f[e]:f.xs??1},[f,A]),W={...a,columns:Q},[X,Y]=b([R,g],[O,p],{props:W}),[Z,ee]=e.useState([]),te=function(a){const s=e.useRef(0),n=()=>{r.cancel(s.current)};return e.useEffect(()=>n,[]),t(()=>{n(),s.current=r(a)})}(()=>{const e=q.map((e,t)=>{const r=e.key??t,a=F(r),s=a?.getBoundingClientRect();return[r,s?s.height:0,e.column]});ee(t=>c(t,e)?t:e)}),[re,ae]=function(t,r,a){const[s,n]=e.useMemo(()=>{const e=new Array(r).fill(0),s=new Map;for(let n=0;n<t.length;n+=1){const[o,i,c]=t[n];let l=c??e.indexOf(Math.min.apply(Math,y(e)));l=Math.min(l,r-1);const m=e[l];s.set(o,{column:l,top:m}),e[l]+=i+a}return[s,Math.max(0,Math.max.apply(Math,y(e))-a)]},[r,t,a]);return[s,n]}(Z,Q,G),se=e.useMemo(()=>q.map((e,t)=>{const r=e.key??t;return{item:e,itemIndex:t,itemKey:r,key:r,position:re.get(r)}}),[q,re]);e.useEffect(()=>{te()},[q,Q]);const[oe,ce]=e.useState([]);return i(()=>{k&&se.every(({position:e})=>e)&&ce(e=>{const t=se.map(({item:e,position:t})=>[e,t.column]);return c(e,t)?e:t})},[se]),i(()=>{k&&w&&w.length===oe.length&&k(oe.map(([e,t])=>({...e,column:t})))},[oe]),e.createElement(n,{onResize:te},e.createElement("div",{ref:L,className:s(M,P,X.root,u,d,z,D,{[`${M}-rtl`]:"rtl"===j}),style:{height:ae,...Y.root,...E,...h},onLoad:te,onError:te},e.createElement(T,{keys:se,component:!1,motionAppear:!0,motionLeave:!0,motionName:`${M}-item-fade`},(t,r)=>{const{item:a,itemKey:n,position:o={},itemIndex:i,key:c,className:m,style:u}=t,{column:d=0}=o,h={"--item-width":`calc((100% + ${V}px) / ${Q})`,insetInlineStart:`calc(var(--item-width) * ${d})`,width:`calc(var(--item-width) - ${V}px)`,top:o.top,position:"absolute"};return e.createElement(ne,{prefixCls:M,key:c,item:a,style:{...u,...Y.item,...h},className:s(X.item,m),ref:l(r,e=>I(n,e)),index:i,itemRender:N,column:d,onResize:C?te:null})})))});var le=class extends k{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:m()})}getOptimisticResult(e){return e.behavior=m(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,a=super.createResult(e,t),{isFetching:s,isRefetching:n,isError:o,isRefetchError:i}=a,c=r.fetchMeta?.fetchMore?.direction,l=o&&"forward"===c,m=s&&"forward"===c,h=o&&"backward"===c,g=s&&"backward"===c;return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:d(t,r.data),hasPreviousPage:u(t,r.data),isFetchNextPageError:l,isFetchingNextPage:m,isFetchPreviousPageError:h,isFetchingPreviousPage:g,isRefetchError:i&&!l&&!h,isRefetching:n&&!m&&!g}}};const me="_layoutContainer_1uung_9",ue="_logo_1uung_56",de="_mainContent_1uung_85",he="_mainContentCollapsed_1uung_95",ge="_discoveryContainer_1uung_100",pe="_discoveryHeader_1uung_109",fe="_headerContent_1uung_120",ye="_searchSection_1uung_131",ve="_headerActions_1uung_139",xe="_categorySection_1uung_146",be="_categoryList_1uung_154",_e="_categoryTag_1uung_164",we="_waterfallContainer_1uung_181",Ne="_masonryItem_1uung_188",ke="_imageCard_1uung_195",Ce="_imageContainer_1uung_212",Se="_waterfallImage_1uung_220",je="_imageOverlay_1uung_233",Pe="_overlayBtn_1uung_252",Ee="_cardContent_1uung_272",Re="_imageTitle_1uung_277",Oe="_authorInfo_1uung_288",Me="_authorName_1uung_298",$e="_likesCount_1uung_306",ze="_loadingMore_1uung_339",De="_noMore_1uung_348";function Le(t){const{keyword:r}=t,{filters:a,setFilters:s,setSelectedCategory:n}=w(),[o,i]=e.useState(r||""),[c,l]=e.useState([]),[m,u]=e.useState([]),[d,p]=e.useState(!1),[f,y]=e.useState(-1),v=e.useRef(null),x=j(),b=e.useRef(null),{data:_,isLoading:N}=S({queryKey:["hot"],queryFn:()=>new Promise((e,t)=>{x.get("/square/keywords/hot",{params:{}}).then(t=>{u(t?.data||[]),e(t?.data||[])}).catch(e=>t(e))})});e.useEffect(()=>{const e=localStorage.getItem("searchHistory");if(e)try{l(JSON.parse(e))}catch(t){console.error("Failed to parse search history:",t)}},[]),e.useEffect(()=>{r!==o&&i(r||"")},[r]),e.useEffect(()=>{try{let e=[];e=o.trim()?_.filter(e=>e.keyword.includes(o)):_||[],u(e),(e.length>0||c.length>0)&&p(!0),y(-1)}catch(e){console.error("Failed to update suggestions:",e),u([])}},[o,c.length]);const k=e.useCallback(e=>{localStorage.setItem("searchHistory",JSON.stringify(e)),l(e)},[]),C=e.useCallback(e=>{if(!e.trim())return;const t={id:Date.now().toString(),keyword:e.trim(),timestamp:Date.now()},r=c.filter(e=>e.keyword!==t.keyword),a=[t,...r].slice(0,10);k(a)},[c,k]),P=e.useCallback(e=>{const t=c.filter(t=>t.id!==e);k(t)},[c,k]),E=e.useCallback(()=>{k([])},[k]),R=e.useCallback(e=>{const t=e||o;t.trim()&&(s({...a,keyword:t}),C(t),p(!1),i(t))},[a,o,s,C]),O=e.useCallback(()=>{i(""),s(void 0),n(""),p(!!c.length||!!m.length),y(-1),b.current?.focus()},[c.length,m.length,s,n]),M=e.useCallback(e=>{i(e.target.value)},[]),D=e.useCallback(e=>{R(e)},[R]),L=e.useCallback(e=>{const t=c.length+m.length;switch(e.key){case"ArrowDown":e.preventDefault(),y(e=>e<t-1?e+1:0);break;case"ArrowUp":e.preventDefault(),y(e=>e>0?e-1:t-1);break;case"Enter":if(e.preventDefault(),f>=0){const e=[...c,...m][f];e&&R(e.keyword)}else R();break;case"Escape":e.preventDefault(),p(!1),y(-1)}},[f,c,m,R]);e.useEffect(()=>{const e=e=>{v.current&&!v.current.contains(e.target)&&(p(!1),y(-1))};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const I=e.useCallback(()=>[...c,...m],[c,m]);return h("div",{ref:v,className:"relative w-full max-w-2xl mx-auto",children:[h("div",{className:"flex items-center bg-white rounded-full shadow-sm border border-gray-100",children:[g("div",{className:"ml-4 text-gray-400",children:g($,{})}),g("input",{ref:b,type:"text",placeholder:"搜索你喜欢的图片、素材、灵感...",className:"flex-1 px-4 py-3 text-gray-800 bg-transparent border-none outline-none placeholder-gray-400",value:o,onChange:M,onKeyDown:L,onFocus:()=>p(!!c.length||!!m.length)}),o&&g("button",{onClick:O,className:"mr-2 text-gray-400 hover:text-gray-600 transition-colors",children:g(z,{})}),g("button",{onClick:()=>R(),className:"mr-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200 transition-colors",children:"搜索"})]}),d&&(I().length>0||c.length>0)&&h("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-100 rounded-xl shadow-md overflow-hidden z-50",children:[c.length>0&&h("div",{className:"p-2",children:[h("div",{className:"flex items-center justify-between px-3 py-2",children:[h("div",{className:"flex items-center text-gray-600 text-sm font-medium",children:[g(ee,{className:"mr-2 text-gray-500"}),"搜索历史"]}),g("button",{onClick:E,className:"text-gray-500 text-xs hover:text-gray-700 transition-colors",children:"清除"})]}),c.map((e,t)=>h("div",{className:"flex items-center justify-between px-3 py-2 cursor-pointer rounded-lg transition-colors "+(t===f?"bg-gray-100":"hover:bg-gray-50"),onClick:()=>D(e.keyword),children:[h("div",{className:"flex items-center text-gray-700",children:[g(W,{className:"mr-3 text-gray-500 text-xs"}),g("span",{children:e.keyword})]}),g("button",{onClick:t=>{t.stopPropagation(),P(e.id)},className:"text-gray-400 hover:text-gray-600 transition-colors text-xs",children:g(z,{})})]},e.id))]}),m.length>0&&h("div",{className:"p-2 border-t border-gray-100",children:[h("div",{className:"flex items-center px-3 py-2 text-gray-600 text-sm font-medium",children:[g($,{className:"mr-2 text-gray-500"}),"搜索推荐"]}),g("div",{className:"flex flex-wrap gap-2 px-3 py-2",children:m.map((e,t)=>{const r=t+c.length===f;return h("div",{className:"inline-flex items-center cursor-pointer rounded-full px-4 py-1.5 text-sm transition-all "+(r?"bg-blue-100 text-blue-700 border border-blue-200":"bg-gray-50 text-gray-700 border border-gray-200 hover:bg-gray-100"),onClick:()=>D(e.keyword),children:[g($,{className:"mr-2 text-xs"}),g("span",{children:e.keyword}),e.count&&h("span",{className:"ml-2 text-xs opacity-70",children:["(",e.count,")"]})]},e.id)})})]})]})]})}function Ie(){const t=_.c(99),r=p(),[a,s]=e.useState(!1),[n]=e.useState(20),{data:o,error:i}=(()=>{const e=_.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["categories"],queryFn:E.getCategories,staleTime:18e5},e[0]=t):t=e[0],S(t)})();let c;t[0]!==o?(c=void 0===o?[]:o,t[0]=o,t[1]=c):c=t[1];const l=c,m=j(),{filters:u,collapsed:d,setSelectedCategory:f,setFilters:y}=w();let v,x,b;t[2]!==a?(v=()=>{const e=()=>{a&&s(!1)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},x=[a],t[2]=a,t[3]=v,t[4]=x):(v=t[3],x=t[4]),e.useEffect(v,x),t[5]===Symbol.for("react.memo_cache_sentinel")?(b={centered:!0},t[5]=b):b=t[5];const k=b;let $,z,T,B;t[6]!==u||t[7]!==n?($=["images",u,n],t[6]=u,t[7]=n,t[8]=$):$=t[8],t[9]!==u||t[10]!==n||t[11]!==m?(z=e=>{const{pageParam:t}=e,r=void 0===t?1:t;return new Promise((e,t)=>{m.get("/square/posts",{params:{...u,page:r,pageSize:n}}).then(t=>e(t?.data)).catch(e=>t(e))})},t[9]=u,t[10]=n,t[11]=m,t[12]=z):z=t[12],t[13]!==n?(T=(e,t)=>{if(!(e&&e.items&&e.items.length<n))return t.length+1},t[13]=n,t[14]=T):T=t[14],t[15]!==$||t[16]!==z||t[17]!==T?(B={queryKey:$,queryFn:z,getNextPageParam:T,onSuccess:qe},t[15]=$,t[16]=z,t[17]=T,t[18]=B):B=t[18];const{data:K,error:U,fetchNextPage:V,hasNextPage:G,isFetchingNextPage:Q}=C(B,le);let W,X,Y;t[19]!==V||t[20]!==G||t[21]!==Q?(X=()=>{let e,t=!1;const r=()=>{clearTimeout(e),e=setTimeout(()=>{const e=document.documentElement.scrollTop||document.body.scrollTop;(document.documentElement.scrollHeight||document.body.scrollHeight)-e-(document.documentElement.clientHeight||window.innerHeight)<100&&G&&!Q&&!t&&(t=!0,V().finally(()=>{t=!1}))},100)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r),clearTimeout(e)}},W=[G,Q,V],t[19]=V,t[20]=G,t[21]=Q,t[22]=W,t[23]=X):(W=t[22],X=t[23]),e.useEffect(X,W),t[24]!==K?.pages?(Y=K?.pages?.flatMap(Fe)||[],t[24]=K?.pages,t[25]=Y):Y=t[25];const Z=Y;let ee;t[26]!==m?(ee=async e=>{try{await m.post(`/images/${e}/like`)}catch(t){const e=t;console.error("点赞失败:",e)}},t[26]=m,t[27]=ee):ee=t[27];const te=ee;let re;t[28]!==m?(re=async(e,t)=>{try{await m.post("/images/download",{imageUrl:e,filename:t})}catch(r){const e=r;console.error("下载失败:",e)}},t[28]=m,t[29]=re):re=t[29];const ae=re;let ne;t[30]!==r?(ne=e=>{r(`/discover/${e}`,{replace:!1}),s(!0)},t[30]=r,t[31]=ne):ne=t[31];const oe=ne;let ie;t[32]!==m?(ie=async e=>{try{await m.post(`/images/${e}/share`)}catch(t){const e=t;console.error("分享失败:",e)}},t[32]=m,t[33]=ie):ie=t[33];const Ie=ie;let He;t[34]===Symbol.for("react.memo_cache_sentinel")?(He=[{key:"profile",label:"个人主页"},{key:"collections",label:"我的采集"},{key:"likes",label:"我喜欢的"},{key:"settings",label:"设置"}],t[34]=He):He=t[34];const Ae=He;let Te;t[35]===Symbol.for("react.memo_cache_sentinel")?(Te={mask:{backgroundColor:"rgba(247, 249, 250, 0.98)"},container:{backgroundColor:"transparent",boxShadow:"0 0 0 transparent"}},t[35]=Te):Te=t[35];const Be=Te;if(U||i){let e;t[36]===Symbol.for("react.memo_cache_sentinel")?(e={display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},t[36]=e):e=t[36];const r=(U||i)?.message;let a;return t[37]!==r?(a=g("div",{style:e,children:h("div",{children:["加载失败: ",r]})}),t[37]=r,t[38]=a):a=t[38],a}let Ke;t[39]!==d?(Ke=g(N,{collapsed:d}),t[39]=d,t[40]=Ke):Ke=t[40];const Ue=`${de} ${d?he:""}`;let Je;t[41]===Symbol.for("react.memo_cache_sentinel")?(Je=g("div",{className:ue,children:g("h2",{children:"Paint"})}),t[41]=Je):Je=t[41];const Ve=u?.keyword;let Ge,Qe,We,Xe,Ye,Ze,et,tt,rt,at,st,nt,ot,it,ct,lt,mt,ut,dt,ht,gt,pt;if(t[42]!==Ve?(Ge=g("div",{className:ye,children:g(Le,{keyword:Ve})}),t[42]=Ve,t[43]=Ge):Ge=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(Qe=g(L,{}),t[44]=Qe):Qe=t[44],t[45]!==r?(We=g(P,{type:"primary",icon:Qe,onClick:()=>r("/ai-paint"),children:"创作"}),t[45]=r,t[46]=We):We=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(Xe={items:Ae},t[47]=Xe):Xe=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(Ye=g(F,{menu:Xe,placement:"bottomRight",children:g(I,{size:"large",icon:g(q,{}),style:{cursor:"pointer"}})}),t[48]=Ye):Ye=t[48],t[49]!==We?(Ze=h("div",{className:ve,children:[We,Ye]}),t[49]=We,t[50]=Ze):Ze=t[50],t[51]!==Ge||t[52]!==Ze?(et=g("div",{className:pe,children:h("div",{className:fe,children:[Je,Ge,Ze]})}),t[51]=Ge,t[52]=Ze,t[53]=et):et=t[53],t[54]!==l||t[55]!==u||t[56]!==y||t[57]!==f){let e;t[59]!==u||t[60]!==y||t[61]!==f?(e=e=>g(R,{color:"default",className:_e,onClick:()=>{y({...u,keyword:e}),f(e)},children:e},e),t[59]=u,t[60]=y,t[61]=f,t[62]=e):e=t[62],tt=l.map(e),t[54]=l,t[55]=u,t[56]=y,t[57]=f,t[58]=tt}else tt=t[58];return t[63]!==tt?(rt=g("div",{className:xe,children:g("div",{className:be,children:tt})}),t[63]=tt,t[64]=rt):rt=t[64],t[65]!==ae||t[66]!==oe||t[67]!==te||t[68]!==Ie?(at=e=>{const t=e;return g("div",{className:Ne,children:h("div",{className:ke,onClick:()=>oe(t.postId?.toString()||""),children:[h("div",{className:Ce,children:[g("img",{decoding:"async",src:t.preview?.url||"",alt:t.title||"",className:Se}),g("div",{className:je,children:h(H,{children:[g(P,{type:"text",icon:g(O,{}),className:Pe,onClick:e=>{e.stopPropagation(),te(t.id)}}),g(P,{type:"text",icon:g(se,{}),className:Pe,onClick:e=>{e.stopPropagation(),Ie(t.id)}}),g(P,{type:"text",icon:g(A,{}),className:Pe,onClick:e=>{e.stopPropagation(),ae(t.image||t.preview?.url||"",`${t.title||"image"}.jpg`)}})]})})]}),h("div",{className:Ee,children:[g("div",{className:Re,children:t.title||""}),h("div",{className:Oe,children:[g(I,{size:"small",src:t.authorInfo?.avatar||null,icon:g(q,{})}),g("span",{className:Me,children:t.authorInfo?.name||t.author||"未知作者"}),h("span",{className:$e,children:[g(O,{})," ",t.likesCount||0]})]})]})]})},t.id)},t[65]=ae,t[66]=oe,t[67]=te,t[68]=Ie,t[69]=at):at=t[69],t[70]!==Z||t[71]!==at?(st=g(ce,{gutter:16,columns:6,items:Z,itemRender:at}),t[70]=Z,t[71]=at,t[72]=st):st=t[72],t[73]!==Q?(nt=Q&&g("div",{className:ze,children:g(J,{size:"small",tip:"加载更多..."})}),t[73]=Q,t[74]=nt):nt=t[74],t[75]!==G||t[76]!==Z?(ot=!G&&Z.length>0&&g("div",{className:De,children:"没有更多数据了"}),t[75]=G,t[76]=Z,t[77]=ot):ot=t[77],t[78]!==st||t[79]!==nt||t[80]!==ot?(it=h("div",{className:we,children:[st,nt,ot]}),t[78]=st,t[79]=nt,t[80]=ot,t[81]=it):it=t[81],t[82]===Symbol.for("react.memo_cache_sentinel")?(ct={enabled:!0,blur:!1},t[82]=ct):ct=t[82],t[83]===Symbol.for("react.memo_cache_sentinel")?(lt=()=>s(!1),mt=()=>s(!1),t[83]=lt,t[84]=mt):(lt=t[83],mt=t[84]),t[85]===Symbol.for("react.memo_cache_sentinel")?(ut=g(M,{onClose:()=>s(!1)}),t[85]=ut):ut=t[85],t[86]!==a?(dt=g(D,{...k,footer:null,styles:Be,open:a,maskClosable:!0,mask:ct,width:"auto",onOk:lt,onCancel:mt,children:ut}),t[86]=a,t[87]=dt):dt=t[87],t[88]!==et||t[89]!==rt||t[90]!==it||t[91]!==dt?(ht=h("div",{className:ge,children:[et,rt,it,dt]}),t[88]=et,t[89]=rt,t[90]=it,t[91]=dt,t[92]=ht):ht=t[92],t[93]!==Ue||t[94]!==ht?(gt=g("div",{className:Ue,children:ht}),t[93]=Ue,t[94]=ht,t[95]=gt):gt=t[95],t[96]!==Ke||t[97]!==gt?(pt=h("div",{className:me,children:[Ke,gt]}),t[96]=Ke,t[97]=gt,t[98]=pt):pt=t[98],pt}function Fe(e){return e.items}function qe(e){}export{Ie as default};
