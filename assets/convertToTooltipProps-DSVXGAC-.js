import{r as t,aO as e,C as o,e as n}from"./index-BtyxmCNW.js";import{an as r,j as l}from"./compiler-runtime-BwPmKt6j.js";import{a as i,b as s,u as c}from"./useGutter-Bmim4NUd.js";import{u as a,r as f}from"./index-yqGTAdY-.js";const u=t=>"object"==typeof t&&null!=t&&1===t.nodeType,d=(t,e)=>(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t,p=(t,e)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const o=getComputedStyle(t,null);return d(o.overflowY,e)||d(o.overflowX,e)||(t=>{const e=(t=>{if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(e){return null}})(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)})(t)}return!1},h=(t,e,o,n,r,l,i,s)=>l<t&&i>e||l>t&&i<e?0:l<=t&&s<=o||i>=e&&s>=o?l-t-n:i>e&&s<o||l<t&&s>o?i-e+r:0,m=t=>{const e=t.parentElement;return null==e?t.getRootNode().host||null:e},g=(t,e)=>{var o,n,r,l;if("undefined"==typeof document)return[];const{scrollMode:i,block:s,inline:c,boundary:a,skipOverflowHiddenElements:f}=e,d="function"==typeof a?a:t=>t!==a;if(!u(t))throw new TypeError("Invalid target");const g=document.scrollingElement||document.documentElement,$=[];let b=t;for(;u(b)&&d(b);){if(b=m(b),b===g){$.push(b);break}null!=b&&b===document.body&&p(b)&&!p(document.documentElement)||null!=b&&p(b,f)&&$.push(b)}const y=null!=(n=null==(o=window.visualViewport)?void 0:o.width)?n:innerWidth,w=null!=(l=null==(r=window.visualViewport)?void 0:r.height)?l:innerHeight,{scrollX:v,scrollY:x}=window,{height:M,width:W,top:C,right:E,bottom:N,left:j}=t.getBoundingClientRect(),{top:F,right:R,bottom:H,left:I}=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);let _="start"===s||"nearest"===s?C-F:"end"===s?N+H:C+M/2-F+H,T="center"===c?j+W/2-I+R:"end"===c?E+R:j-I;const k=[];for(let u=0;u<$.length;u++){const t=$[u],{height:e,width:o,top:n,right:r,bottom:l,left:a}=t.getBoundingClientRect();if("if-needed"===i&&C>=0&&j>=0&&N<=w&&E<=y&&(t===g&&!p(t)||C>=n&&N<=l&&j>=a&&E<=r))return k;const f=getComputedStyle(t),d=parseInt(f.borderLeftWidth,10),m=parseInt(f.borderTopWidth,10),b=parseInt(f.borderRightWidth,10),F=parseInt(f.borderBottomWidth,10);let R=0,H=0;const I="offsetWidth"in t?t.offsetWidth-t.clientWidth-d-b:0,S="offsetHeight"in t?t.offsetHeight-t.clientHeight-m-F:0,B="offsetWidth"in t?0===t.offsetWidth?0:o/t.offsetWidth:0,L="offsetHeight"in t?0===t.offsetHeight?0:e/t.offsetHeight:0;if(g===t)R="start"===s?_:"end"===s?_-w:"nearest"===s?h(x,x+w,w,m,F,x+_,x+_+M,M):_-w/2,H="start"===c?T:"center"===c?T-y/2:"end"===c?T-y:h(v,v+y,y,d,b,v+T,v+T+W,W),R=Math.max(0,R+x),H=Math.max(0,H+v);else{R="start"===s?_-n-m:"end"===s?_-l+F+S:"nearest"===s?h(n,l,e,m,F+S,_,_+M,M):_-(n+e/2)+S/2,H="start"===c?T-a-d:"center"===c?T-(a+o/2)+I/2:"end"===c?T-r+b+I:h(a,r,o,d,b+I,T,T+W,W);const{scrollLeft:i,scrollTop:f}=t;R=0===L?0:Math.max(0,Math.min(f+R/L,t.scrollHeight-e/L+S)),H=0===B?0:Math.max(0,Math.min(i+H/B,t.scrollWidth-o/B+I)),_+=f-R,T+=i-H}k.push({el:t,top:R,left:H})}return k};function $(t,e){if(!t.isConnected||!(t=>{let e=t;for(;e&&e.parentNode;){if(e.parentNode===document)return!0;e=e.parentNode instanceof ShadowRoot?e.parentNode.host:e.parentNode}return!1})(t))return;const o=(t=>{const e=window.getComputedStyle(t);return{top:parseFloat(e.scrollMarginTop)||0,right:parseFloat(e.scrollMarginRight)||0,bottom:parseFloat(e.scrollMarginBottom)||0,left:parseFloat(e.scrollMarginLeft)||0}})(t);if("object"==typeof(n=e)&&"function"==typeof n.behavior)return e.behavior(g(t,e));var n;const r="boolean"==typeof e||null==e?void 0:e.behavior;for(const{el:l,top:i,left:s}of g(t,(t=>{return!1===t?{block:"end",inline:"nearest"}:(e=t)===Object(e)&&0!==Object.keys(e).length?t:{block:"start",inline:"nearest"};var e})(e))){const t=i-o.top+o.bottom,e=s-o.left+o.right;l.scroll({top:t,left:e,behavior:r})}}const b=["parentNode"];function y(t){return void 0===t||!1===t?[]:Array.isArray(t)?t:[t]}function w(t,e){if(!t.length)return;const o=t.join("_");if(e)return`${e}_${o}`;return b.includes(o)?`form_item_${o}`:o}function v(t,e,o,n,r,l){let i=n;return void 0!==l?i=l:o.validating?i="validating":t.length?i="error":e.length?i="warning":(o.touched||r&&o.validated)&&(i="success"),i}function x(t){return y(t).join("_")}function M(t,o){const n=o.getFieldInstance(t),r=e(n);if(r)return r;const l=w(y(t),o.__INTERNAL__.name);return l?document.getElementById(l):void 0}function W(e){const[o]=r(),n=t.useRef({}),l=t.useMemo(()=>e??{...o,__INTERNAL__:{itemRef:t=>e=>{const o=x(t);e?n.current[o]=e:delete n.current[o]}},scrollToField:(t,e={})=>{const{focus:o,...n}=e,r=M(t,l);r&&($(r,{scrollMode:"if-needed",block:"nearest",...n}),o&&l.focusField(t))},focusField:t=>{const e=l.getFieldInstance(t);"function"==typeof e?.focus?e.focus():M(t,l)?.focus?.()},getFieldInstance:t=>{const e=x(t);return n.current[e]}},[e,o]);return[l]}const C=t.createContext({});function E(t){return"auto"===t?"1 1 auto":"number"==typeof t?`${t} ${t} auto`:/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?`0 0 ${t}`:t}const N=["xs","sm","md","lg","xl","xxl"],j=t.forwardRef((e,r)=>{const{getPrefixCls:l,direction:s}=t.useContext(o),{gutter:c,wrap:a}=t.useContext(C),{prefixCls:f,span:u,order:d,offset:p,push:h,pull:m,className:g,children:$,flex:b,style:y,...w}=e,v=l("col",f),[x,M]=i(v),W={};let j={};N.forEach(t=>{let o={};const n=e[t];"number"==typeof n?o.span=n:"object"==typeof n&&(o=n||{}),delete w[t],j={...j,[`${v}-${t}-${o.span}`]:void 0!==o.span,[`${v}-${t}-order-${o.order}`]:o.order||0===o.order,[`${v}-${t}-offset-${o.offset}`]:o.offset||0===o.offset,[`${v}-${t}-push-${o.push}`]:o.push||0===o.push,[`${v}-${t}-pull-${o.pull}`]:o.pull||0===o.pull,[`${v}-rtl`]:"rtl"===s},o.flex&&(j[`${v}-${t}-flex`]=!0,W[`--${v}-${t}-flex`]=E(o.flex))});const F=n(v,{[`${v}-${u}`]:void 0!==u,[`${v}-order-${d}`]:d,[`${v}-offset-${p}`]:p,[`${v}-push-${h}`]:h,[`${v}-pull-${m}`]:m},g,j,x,M),R={};if(c?.[0]){const t="number"==typeof c[0]?c[0]/2+"px":`calc(${c[0]} / 2)`;R.paddingInline=t}return b&&(R.flex=E(b),!1!==a||R.minWidth||(R.minWidth=0)),t.createElement("div",{...w,style:{...R,...y,...W},className:F,ref:r},$)});function F(e,o){const[n,r]=t.useState("string"==typeof e?e:"");return t.useEffect(()=>{(()=>{if("string"==typeof e&&r(e),"object"==typeof e)for(let t=0;t<f.length;t++){const n=f[t];if(!o||!o[n])continue;const l=e[n];if(void 0!==l)return void r(l)}})()},[JSON.stringify(e),o]),n}const R=t.forwardRef((e,r)=>{const{prefixCls:l,justify:i,align:f,className:u,style:d,children:p,gutter:h=0,wrap:m,...g}=e,{getPrefixCls:$,direction:b}=t.useContext(o),y=a(!0,null),w=F(f,y),v=F(i,y),x=$("row",l),[M,W]=s(x),E=c(h,y),N=n(x,{[`${x}-no-wrap`]:!1===m,[`${x}-${v}`]:v,[`${x}-${w}`]:w,[`${x}-rtl`]:"rtl"===b},u,M,W),j={};if(E?.[0]){const t="number"==typeof E[0]?E[0]/-2+"px":`calc(${E[0]} / -2)`;j.marginInline=t}const[R,H]=E;j.rowGap=H;const I=t.useMemo(()=>({gutter:[R,H],wrap:m}),[R,H,m]);return t.createElement(C.Provider,{value:I},t.createElement("div",{...g,className:N,style:{...j,...d},ref:r},p))}),H=e=>l(e)?"object"!=typeof e||t.isValidElement(e)?{title:e}:e:null;export{j as C,R,y as a,w as b,H as c,v as g,x as t,W as u};
