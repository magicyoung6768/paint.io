import{R as e,at as s,r,h as t}from"./index-hyz1gGYG.js";const n=()=>e.useReducer(e=>e+1,0),i=["xxl","xl","lg","md","sm","xs"],c=()=>{const[,r]=s(),t=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const s=e,r=[].concat(i).reverse();return r.forEach((e,t)=>{const n=e.toUpperCase(),i=`screen${n}Min`,c=`screen${n}`;if(!(s[i]<=s[c]))throw new Error(`${i}<=${c} fails : !(${s[i]}<=${s[c]})`);if(t<r.length-1){const e=`screen${n}Max`;if(!(s[c]<=s[e]))throw new Error(`${c}<=${e} fails : !(${s[c]}<=${s[e]})`);const i=`screen${r[t+1].toUpperCase()}Min`;if(!(s[e]<=s[i]))throw new Error(`${e}<=${i} fails : !(${s[e]}<=${s[i]})`)}}),e})(r));return e.useMemo(()=>{const e=new Map;let s=-1,r={};return{responsiveMap:t,matchHandlers:{},dispatch:s=>(r=s,e.forEach(e=>e(r)),e.size>=1),subscribe(t){return e.size||this.register(),s+=1,e.set(s,t),t(r),s},unsubscribe(s){e.delete(s),e.size||this.unregister()},register(){Object.entries(t).forEach(([e,s])=>{const t=({matches:s})=>{this.dispatch({...r,[e]:s})},n=window.matchMedia(s);"function"==typeof n?.addEventListener&&n.addEventListener("change",t),this.matchHandlers[s]={mql:n,listener:t},t(n)})},unregister(){Object.values(t).forEach(e=>{const s=this.matchHandlers[e];"function"==typeof s?.mql?.removeEventListener&&s.mql.removeEventListener("change",s?.listener)}),e.clear()}}},[t])};function a(e=!0,s={}){const i=r.useRef(s),[,a]=n(),o=c();return t(()=>{const s=o.subscribe(s=>{i.current=s,e&&a()});return()=>o.unsubscribe(s)},[]),i.current}export{n as a,i as r,a as u};
