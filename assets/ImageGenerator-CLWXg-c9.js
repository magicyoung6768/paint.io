import{r as e,j as t,a,i as r,u as l,b as s,c as i}from"./index-CDKw0UCm.js";import{u as n,a as c}from"./useRequestManager-CIaaFq1K.js";import"./index-Bz4xTE-7.js";import{I as o,c as d}from"./compiler-runtime-BNGP8ANp.js";import{B as m}from"./http-1EEc4dlM.js";import"./index-Dft_KLHH.js";import{S as h}from"./index-IVoaQg_k.js";import{S as x}from"./index-CzyhcM6b.js";import{R as p}from"./DownloadOutlined-DriBTffB.js";import{R as b,T as f}from"./index-DrNogVfX.js";import{s as u}from"./index-BTOTRKrR.js";import{I as g}from"./index-C2udewTy.js";import"./index-CC9YKY7L.js";import"./statusUtils-BWZF7hSp.js";import"./RightOutlined-CHX2ezvj.js";import"./collapse-BIO5DT9H.js";import"./index-DOQ1m8Re.js";import"./EllipsisOutlined-Dobae_00.js";import"./TextArea-BHGhucwa.js";import"./SearchOutlined-CuOU4q28.js";var v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"};function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},y.apply(this,arguments)}const N=(t,a)=>e.createElement(o,y({},t,{ref:a,icon:v})),w=e.forwardRef(N),_=()=>{const e=d.c(1);let r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=t("div",{className:"text-center p-10",children:[a(h,{size:"large"}),a("div",{className:"mt-4 text-gray-600",children:"æ­£åœ¨ç”Ÿæˆå›¾ç‰‡ï¼Œè¯·ç¨å€™..."})]}),e[0]=r):r=e[0],r},j=({imageUrl:e,onPublish:l})=>t("div",{className:"w-full text-center",children:[a("div",{className:"flex justify-center items-center w-full h-full",children:a("img",{src:e,alt:"Generated",className:"max-w-full max-h-[80vh] shadow-[0_10px_30px_rgba(0,0,0,0.15)] object-contain"})}),a("div",{className:"mt-6 flex justify-center",children:t(x,{size:"middle",children:[a(m,{icon:a(p,{}),onClick:async()=>{try{let t;if(r)t=await window.electron.downloadFile(e,`generated-${Date.now()}.png`),t.success?u.success(t.message||"ä¸‹è½½æˆåŠŸï¼"):u.error(t.message||"ä¸‹è½½å¤±è´¥");else{const t=document.createElement("a");t.href=e,t.download=`generated-${Date.now()}.png`,t.click(),u.success("ä¸‹è½½å·²å¼€å§‹")}}catch(t){console.error("ä¸‹è½½å¤±è´¥:",t),u.error("ä¸‹è½½å¤±è´¥: "+t.message)}},className:"rounded-lg",children:"ä¸‹è½½å›¾ç‰‡"}),a(m,{icon:a(b,{}),onClick:()=>{navigator.clipboard.writeText(e).then(()=>{u.success("é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}).catch(e=>{console.error("å¤åˆ¶å¤±è´¥:",e),u.error("å¤åˆ¶å¤±è´¥")})},className:"rounded-lg",children:"å¤åˆ¶é“¾æ¥"}),a(m,{type:"primary",size:"default",onClick:l,className:"rounded-lg font-semibold bg-gradient-to-r from-[#667eea] to-[#764ba2] border-none",children:"å‘å¸ƒå›¾ç‰‡"})]})})]}),S=()=>{const e=d.c(18);let r,l,s,i,n,c,o,m,h,x,p,b,f,u,g,v,y,N;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=a("div",{className:"absolute top-[-50px] right-[-50px] w-[200px] h-[200px] bg-[rgba(255,255,255,0.15)] rounded-full animate-float",style:{animationDuration:"6s"}}),e[0]=r):r=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(l=a("div",{className:"absolute bottom-[-80px] left-[-80px] w-[250px] h-[250px] bg-[rgba(255,255,255,0.1)] rounded-full animate-float",style:{animationDuration:"8s",animationDelay:"2s"}}),e[1]=l):l=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(s=a("div",{className:"absolute top-[50%] left-[-100px] w-[150px] h-[150px] bg-[rgba(255,255,255,0.08)] rounded-full animate-float",style:{animationDuration:"7s",animationDelay:"1s"}}),e[2]=s):s=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(i=t("div",{className:"text-center",children:[a("div",{className:"text-[80px] mb-4 drop-shadow-[0_4px_12px_rgba(0,0,0,0.1)]",children:"ğŸ¨"}),a("h1",{className:"text-[32px] font-bold mb-4 text-shadow-[0_2px_8px_rgba(0,0,0,0.1)]",children:"é‡Šæ”¾ä½ çš„åˆ›æ„æ½œèƒ½"}),a("p",{className:"text-[18px] leading-[1.7] opacity-[0.95] max-w-[600px] mx-auto",children:"å€ŸåŠ©å…ˆè¿›çš„AIæŠ€æœ¯ï¼Œå°†ä½ çš„æ–‡å­—æè¿°è½¬åŒ–ä¸ºç²¾ç¾çš„è§†è§‰ä½œå“ã€‚ æ— è®ºä½ æ˜¯è®¾è®¡å¸ˆã€åˆ›ä½œè€…è¿˜æ˜¯çˆ±å¥½è€…ï¼Œéƒ½èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°çµæ„Ÿå’Œå·¥å…·ã€‚"})]}),n=a("h2",{className:"text-[22px] font-semibold mb-8 text-center",children:"ğŸ“‹ ç®€å•ä¸‰æ­¥ï¼Œè½»æ¾åˆ›ä½œ"}),e[3]=i,e[4]=n):(i=e[3],n=e[4]),e[5]===Symbol.for("react.memo_cache_sentinel")?(c=t("div",{className:"bg-[rgba(255,255,255,0.2)] backdrop-blur-md rounded-[16px] p-6 shadow-[0_4px_16px_rgba(0,0,0,0.15)]",children:[a("div",{className:"w-[60px] h-[60px] rounded-full bg-white text-[#ff7e5f] flex items-center justify-center text-[28px] font-bold mb-4 mx-auto",children:"1"}),a("h3",{className:"text-[18px] font-semibold mb-2 text-center",children:"è¾“å…¥æè¿°"}),a("p",{className:"text-sm opacity-[0.9] text-center",children:"åœ¨å·¦ä¾§è¾“å…¥è¯¦ç»†çš„å›¾ç‰‡æè¿°ï¼Œè¶Šå…·ä½“ç”Ÿæˆæ•ˆæœè¶Šå¥½"})]}),e[5]=c):c=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(o=t("div",{className:"bg-[rgba(255,255,255,0.2)] backdrop-blur-md rounded-[16px] p-6 shadow-[0_4px_16px_rgba(0,0,0,0.15)]",children:[a("div",{className:"w-[60px] h-[60px] rounded-full bg-white text-[#ff7e5f] flex items-center justify-center text-[28px] font-bold mb-4 mx-auto",children:"2"}),a("h3",{className:"text-[18px] font-semibold mb-2 text-center",children:"è°ƒæ•´å‚æ•°"}),a("p",{className:"text-sm opacity-[0.9] text-center",children:"é€‰æ‹©åˆé€‚çš„å®½é«˜æ¯”å’Œå…¶ä»–å‚æ•°ï¼Œå®šåˆ¶ä½ çš„ç”Ÿæˆéœ€æ±‚"})]}),e[6]=o):o=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(m=t("div",{children:[n,t("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c,o,t("div",{className:"bg-[rgba(255,255,255,0.2)] backdrop-blur-md rounded-[16px] p-6 shadow-[0_4px_16px_rgba(0,0,0,0.15)]",children:[a("div",{className:"w-[60px] h-[60px] rounded-full bg-white text-[#ff7e5f] flex items-center justify-center text-[28px] font-bold mb-4 mx-auto",children:"3"}),a("h3",{className:"text-[18px] font-semibold mb-2 text-center",children:"ç”Ÿæˆå›¾ç‰‡"}),a("p",{className:"text-sm opacity-[0.9] text-center",children:"ç‚¹å‡»ç”ŸæˆæŒ‰é’®ï¼Œç­‰å¾…AIä¸ºä½ åˆ›é€ ç‹¬ç‰¹çš„è§†è§‰ä½œå“"})]})]})]}),h=a("h2",{className:"text-[22px] font-semibold mb-6 text-center",children:"ğŸ’¡ ç¤ºä¾‹æç¤ºè¯"}),e[7]=m,e[8]=h):(m=e[7],h=e[8]),e[9]===Symbol.for("react.memo_cache_sentinel")?(p=t("div",{children:[h,t("div",{className:"flex justify-center flex-wrap gap-3",children:[a("div",{className:"px-5 py-3 bg-[rgba(255,255,255,0.25)] rounded-full text-sm backdrop-blur-md shadow-[0_4px_16px_rgba(0,0,0,0.15)] cursor-pointer transition-all duration-300 hover:translate-y-[-2px] hover:bg-[rgba(255,255,255,0.35)]",children:"ä¸€åªå¯çˆ±çš„æŸ¯åŸºåœ¨é˜³å…‰ä¸‹å¥”è·‘"}),a("div",{className:"px-5 py-3 bg-[rgba(255,255,255,0.25)] rounded-full text-sm backdrop-blur-md shadow-[0_4px_16px_rgba(0,0,0,0.15)] cursor-pointer transition-all duration-300 hover:translate-y-[-2px] hover:bg-[rgba(255,255,255,0.35)]",children:"æœªæ¥åŸå¸‚å¤œæ™¯ï¼Œèµ›åšæœ‹å…‹é£æ ¼"}),a("div",{className:"px-5 py-3 bg-[rgba(255,255,255,0.25)] rounded-full text-sm backdrop-blur-md shadow-[0_4px_16px_rgba(0,0,0,0.15)] cursor-pointer transition-all duration-300 hover:translate-y-[-2px] hover:bg-[rgba(255,255,255,0.35)]",children:"å±±æ°´æ°´å¢¨ç”»ï¼Œå®é™è‡´è¿œ"}),a("div",{className:"px-5 py-3 bg-[rgba(255,255,255,0.25)] rounded-full text-sm backdrop-blur-md shadow-[0_4px_16px_rgba(0,0,0,0.15)] cursor-pointer transition-all duration-300 hover:translate-y-[-2px] hover:bg-[rgba(255,255,255,0.35)]",children:"å®‡èˆªå‘˜åœ¨ç«æ˜Ÿä¸Šçœ‹åœ°çƒå‡èµ·"}),a("div",{className:"px-5 py-3 bg-[rgba(255,255,255,0.25)] rounded-full text-sm backdrop-blur-md shadow-[0_4px_16px_rgba(0,0,0,0.15)] cursor-pointer transition-all duration-300 hover:translate-y-[-2px] hover:bg-[rgba(255,255,255,0.35)]",children:"ç«¥è¯é£æ ¼çš„æ£®æ—å°å±‹ï¼Œé˜³å…‰é€è¿‡æ ‘å¶"}),a("div",{className:"px-5 py-3 bg-[rgba(255,255,255,0.25)] rounded-full text-sm backdrop-blur-md shadow-[0_4px_16px_rgba(0,0,0,0.15)] cursor-pointer transition-all duration-300 hover:translate-y-[-2px] hover:bg-[rgba(255,255,255,0.35)]",children:"æœºæ¢°æœ‹å…‹é£æ ¼çš„çŒ«å’ªï¼Œé‡‘å±è´¨æ„Ÿ"})]})]}),x=a("h2",{className:"text-[22px] font-semibold mb-8 text-center",children:"âœ¨ å¼ºå¤§åŠŸèƒ½"}),e[9]=x,e[10]=p):(x=e[9],p=e[10]),e[11]===Symbol.for("react.memo_cache_sentinel")?(b=t("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-[50px] h-[50px] rounded-full bg-[rgba(255,255,255,0.3)] flex items-center justify-center text-[24px] flex-shrink-0",children:"âš¡"}),t("div",{children:[a("h3",{className:"text-[18px] font-semibold mb-2",children:"å¿«é€Ÿç”Ÿæˆ"}),a("p",{className:"text-sm opacity-[0.9]",children:"å…ˆè¿›çš„AIæ¨¡å‹ï¼Œå‡ ç§’å†…å³å¯ç”Ÿæˆé«˜è´¨é‡å›¾ç‰‡"})]})]}),e[11]=b):b=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(f=t("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-[50px] h-[50px] rounded-full bg-[rgba(255,255,255,0.3)] flex items-center justify-center text-[24px] flex-shrink-0",children:"ğŸ¨"}),t("div",{children:[a("h3",{className:"text-[18px] font-semibold mb-2",children:"å¤šæ ·é£æ ¼"}),a("p",{className:"text-sm opacity-[0.9]",children:"æ”¯æŒå¤šç§è‰ºæœ¯é£æ ¼ï¼Œä»å†™å®åˆ°æŠ½è±¡ï¼Œæ»¡è¶³ä¸åŒéœ€æ±‚"})]})]}),e[12]=f):f=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(u=t("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-[50px] h-[50px] rounded-full bg-[rgba(255,255,255,0.3)] flex items-center justify-center text-[24px] flex-shrink-0",children:"ğŸ”§"}),t("div",{children:[a("h3",{className:"text-[18px] font-semibold mb-2",children:"çµæ´»å‚æ•°"}),a("p",{className:"text-sm opacity-[0.9]",children:"å¯è°ƒèŠ‚å®½é«˜æ¯”ã€ç§å­ç­‰å‚æ•°ï¼Œç²¾ç¡®æ§åˆ¶ç”Ÿæˆç»“æœ"})]})]}),e[13]=u):u=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(g=t("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-[50px] h-[50px] rounded-full bg-[rgba(255,255,255,0.3)] flex items-center justify-center text-[24px] flex-shrink-0",children:"ğŸ’¾"}),t("div",{children:[a("h3",{className:"text-[18px] font-semibold mb-2",children:"ä¾¿æ·ä¸‹è½½"}),a("p",{className:"text-sm opacity-[0.9]",children:"ä¸€é”®ä¸‹è½½ç”Ÿæˆçš„å›¾ç‰‡ï¼Œæ”¯æŒå¤šç§æ ¼å¼"})]})]}),e[14]=g):g=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(v=t("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-[50px] h-[50px] rounded-full bg-[rgba(255,255,255,0.3)] flex items-center justify-center text-[24px] flex-shrink-0",children:"ğŸ”„"}),t("div",{children:[a("h3",{className:"text-[18px] font-semibold mb-2",children:"é‡æ–°ç”Ÿæˆ"}),a("p",{className:"text-sm opacity-[0.9]",children:"ä¸æ»¡æ„ç»“æœï¼Ÿå¯ä»¥ä½¿ç”¨ç›¸åŒæˆ–æ–°çš„å‚æ•°é‡æ–°ç”Ÿæˆ"})]})]}),e[15]=v):v=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(y=t("div",{children:[x,t("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b,f,u,g,v,t("div",{className:"flex items-start gap-4",children:[a("div",{className:"w-[50px] h-[50px] rounded-full bg-[rgba(255,255,255,0.3)] flex items-center justify-center text-[24px] flex-shrink-0",children:"ğŸ“¤"}),t("div",{children:[a("h3",{className:"text-[18px] font-semibold mb-2",children:"è½»æ¾åˆ†äº«"}),a("p",{className:"text-sm opacity-[0.9]",children:"ç”Ÿæˆçš„å›¾ç‰‡å¯ä»¥ç›´æ¥åˆ†äº«åˆ°ç¤¾äº¤åª’ä½“æˆ–ä¿å­˜åˆ°æœ¬åœ°"})]})]})]})]}),e[16]=y):y=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(N=t("div",{className:"px-[50px] py-[80px] text-white bg-gradient-to-r from-[#ff7e5f] to-[#feb47b] rounded-[24px] max-w-[800px] mx-auto shadow-[0_20px_60px_rgba(255,126,95,0.3)] relative overflow-hidden",children:[r,l,s,t("div",{className:"relative z-1 space-y-12",children:[i,m,p,y,t("div",{className:"text-center",children:[a("p",{className:"text-[20px] font-semibold mb-6 opacity-[0.95]",children:"å‡†å¤‡å¥½å¼€å§‹ä½ çš„åˆ›ä½œä¹‹æ—…äº†å—ï¼Ÿ"}),a("p",{className:"text-[16px] opacity-[0.9]",children:"åœ¨å·¦ä¾§è¾“å…¥ä½ çš„åˆ›æ„æè¿°ï¼Œè®©AIä¸ºä½ å¸¦æ¥æƒŠå–œï¼"})]})]}),a("style",{children:"\n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-20px); }\n        }\n      "})]}),e[17]=N):N=e[17],N},{TextArea:k}=g,{Title:M,Text:C}=f,A=()=>{const[r]=l(),o=s(),{isAuthenticated:d}=i(),h=r.get("id"),p=n(),[b,f]=e.useState(""),[v,y]=e.useState(1024),[N,C]=e.useState(1024),[A,z]=e.useState(""),[D,I]=e.useState(!1),[O,T]=e.useState(null),[q,R]=e.useState(!1),E=[{value:"1:1",label:"1:1 æ­£æ–¹å½¢",width:1024,height:1024},{value:"4:3",label:"4:3 æ ‡å‡†",width:1024,height:768},{value:"16:9",label:"16:9 å®½å±",width:1024,height:576},{value:"9:16",label:"9:16 ç«–å±",width:576,height:1024},{value:"3:2",label:"3:2 ç›¸æœº",width:1024,height:683},{value:"2:3",label:"2:3 ç«–ç‰ˆç›¸æœº",width:683,height:1024}],[F,P]=e.useState("1:1");e.useEffect(()=>{const e=E.find(e=>e.value===F);e&&(y(e.width),C(e.height))},[F]);const{data:U,isLoading:$,error:B}=c({queryKey:["ImageGenerator-"+h],queryFn:async()=>{if(!h)return null;const e=await p.get(`/square/posts/${h}`,{});if(e?.data){const t=e.data?.preview?.description||e.data.title;t&&f(t);const a=e.data.preview?.width,r=e.data.preview?.height;if(a&&r){const e=parseFloat((a/r).toFixed(2));let t="1:1";Math.abs(e-1.33)<.1?t="4:3":Math.abs(e-1.78)<.1?t="16:9":Math.abs(e-.56)<.1?t="9:16":Math.abs(e-1.5)<.1?t="3:2":Math.abs(e-.67)<.1&&(t="2:3"),P(t)}}return e.data},enabled:!!h,staleTime:0,onError:e=>{console.error("è·å–å›¾ç‰‡è¯¦æƒ…å¤±è´¥:",e)}}),[G,L]=e.useState("");return t("div",{className:"min-h-screen flex flex-1",children:[t("div",{className:"w-[300px] p-6 shadow-[0_20px_40px_rgba(0,0,0,0.1)] h-screen overflow-y-auto",children:[a(M,{level:4,className:"mb-6 text-gray-900",children:"ç”Ÿæˆè®¾ç½®"}),t(x,{direction:"vertical",size:"large",className:"w-full flex",children:[t("div",{children:[a("label",{className:"block mb-3 font-semibold text-gray-700",children:"å›¾ç‰‡æè¿°"}),a(k,{value:b,onChange:e=>f(e.target.value),placeholder:"æè¿°æ‚¨æƒ³è¦ç”Ÿæˆçš„å›¾ç‰‡ï¼Œä¾‹å¦‚ï¼šä¸€åªå¯çˆ±çš„å°çŒ«åœ¨èŠ±å›­é‡Œç©è€...",rows:4,maxLength:500,showCount:!0,className:"rounded-lg text-sm"})]}),t("div",{children:[a("label",{className:"block mb-3 font-semibold text-gray-700",children:"å®½é«˜æ¯”"}),a("div",{className:"grid grid-cols-3 gap-3 mb-4 w-full",children:E.map(e=>{const r=Math.round(e.height/e.width*40);return t("div",{onClick:()=>P(e.value),className:"p-3 border-2 rounded-lg cursor-pointer text-center transition-all duration-300 box-sizing-border "+(F===e.value?"border-[#ff7e5f] bg-[rgba(255,126,95,0.05)] shadow-[0_2px_8px_rgba(255,126,95,0.2)]":"border-gray-300 bg-white hover:border-[#ff7e5f] hover:bg-[rgba(255,126,95,0.02)]"),children:[a("div",{className:"flex justify-center items-center mb-2 min-h-[60px]",children:a("div",{style:{width:40,height:r,backgroundColor:"#f0f2f5",borderRadius:"4px",border:"1px solid #d9d9d9"}})}),a("div",{className:"text-xs font-semibold mb-0.5",children:e.label.split(" ")[0]}),t("div",{className:"text-xs text-gray-600",children:[e.width,"Ã—",e.height]})]},e.value)})}),t("div",{className:"text-center text-gray-600 text-sm",children:["å®é™…å°ºå¯¸: ",v,"px Ã— ",N,"px"]})]}),t("div",{children:[a("label",{className:"block mb-3 font-semibold text-gray-700",children:"éšæœºç§å­"}),a(g,{value:A,onChange:e=>z(e.target.value),placeholder:"ç•™ç©ºåˆ™éšæœºç”Ÿæˆ",suffix:a(m,{type:"text",icon:a(w,{}),onClick:()=>{const e=Math.floor(1e6*Math.random());z(e.toString()),T(e)},className:"text-[#ff7e5f]",children:"éšæœº"}),className:"rounded-lg"})]}),a(m,{type:"primary",size:"large",onClick:async()=>{if(d)if(b.trim()){if(A.trim())T(parseInt(A));else{const e=Math.floor(1e6*Math.random());T(e),z(e.toString())}R(!0),I(!0);try{const e=await p.post("/aigc/generate/image",{prompt:b,width:v,seed:null!==O?O:42,height:N,n:1,quality:"auto",style:"vivid"});I(!1),L(e?.data?.images?.[0]?.url||"")}catch(e){I(!1),L(""),console.error("å›¾ç‰‡ç”Ÿæˆå¤±è´¥:",e),u.error("å›¾ç‰‡ç”Ÿæˆå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}}else u.warning("è¯·è¾“å…¥å›¾ç‰‡æè¿°");else u.warning("è¯·å…ˆç™»å½•")},loading:D,className:"w-full h-12 rounded-lg text-lg font-semibold bg-gradient-to-r from-[#ff7e5f] to-[#feb47b] border-none",children:D?"ç”Ÿæˆä¸­...":"ç”Ÿæˆå›¾ç‰‡"})]})]}),t("div",{className:"flex-1 p-6 h-screen overflow-y-auto flex flex-col",children:[a(M,{level:4,className:"mb-6 text-gray-900"}),a("div",{className:"flex-1 flex items-center justify-center py-5",children:G&&""!==G&&q&&b?D?a(_,{}):a(j,{imageUrl:G,onPublish:async()=>{b.trim()?(u.success("å‘å¸ƒæˆåŠŸ"),o("/")):u.warning("è¯·è¾“å…¥å›¾ç‰‡æè¿°")}}):a(S,{})})]})]})};export{A as default};
