import{r as e,q as o,p as t,F as a,C as r,D as l,e as c,R as n,g as s,c as i,s as d,a as m,j as h}from"./index-qgT8BKlr.js";import{I as u,g as f,m as p,A as g,u as _,a as b,d as v,_ as y,i as C,e as w,f as N,h as x,o as $,b as j,r as k,c as S}from"./compiler-runtime-C-LIwky7.js";import{u as T,a as E}from"./useRequestManager-CH_d7air.js";import{i as B,B as I,a as D,R}from"./http-CJHTBw8W.js";import{g as M}from"./index-B6lbc1vE.js";import{R as O}from"./index-C2UQQtYy.js";import{p as z,W as H}from"./index-fWM35VSE.js";import{u as P,p as L,D as F,A as q}from"./index-B8YHoo0C.js";import{s as A}from"./index-Dapj9guL.js";import{R as W}from"./UserOutlined-BkQD-ZV0.js";import{D as V}from"./index-CLiL-vGb.js";import{R as X}from"./DownloadOutlined-rPHzkr90.js";import{R as G}from"./PictureOutlined-Tfic6Z1K.js";var K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};function U(){return U=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},U.apply(this,arguments)}const J=(o,t)=>e.createElement(u,U({},o,{ref:t,icon:K})),Q=e.forwardRef(J);var Y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M923 283.6a260.04 260.04 0 00-56.9-82.8 264.4 264.4 0 00-84-55.5A265.34 265.34 0 00679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 00-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]},name:"heart",theme:"outlined"};function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Z.apply(this,arguments)}const ee=(o,t)=>e.createElement(u,Z({},o,{ref:t,icon:Y})),oe=e.forwardRef(ee);var te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"};function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ae.apply(this,arguments)}const re=(o,t)=>e.createElement(u,ae({},o,{ref:t,icon:te})),le=e.forwardRef(re);var ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"};function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var t=arguments[o];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},ne.apply(this,arguments)}const se=(o,t)=>e.createElement(u,ne({},o,{ref:t,icon:ce})),ie=e.forwardRef(se),de=e=>{const{lineWidth:t,fontSizeIcon:a,calc:r}=e,l=e.fontSizeSM;return p(e,{tagFontSize:l,tagLineHeight:o(r(e.lineHeightSM).mul(l).equal()),tagIconSize:r(a).sub(r(t).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},me=e=>{const o=B(new g(e.colorBgSolid),"#fff")?"#000":"#fff";return{defaultBg:new a(e.colorFillTertiary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText,solidTextColor:o}},he=f("Tag",e=>(e=>{const{paddingXXS:a,lineWidth:r,tagPaddingHorizontal:l,componentCls:c,calc:n}=e,s=n(l).sub(r).equal(),i=n(a).sub(r).equal();return{[c]:{...t(e),display:"inline-block",height:"auto",paddingInline:s,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",backgroundColor:e.defaultBg,border:`${o(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${c}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${c}-close-icon`]:{marginInlineStart:i,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${c}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive},"&-disabled":{cursor:"not-allowed",[`&:not(${c}-checkable-checked)`]:{color:e.colorTextDisabled,"&:hover":{backgroundColor:"transparent"}},[`&${c}-checkable-checked`]:{color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled},"&:hover, &:active":{backgroundColor:e.colorBgContainerDisabled,color:e.colorTextDisabled},[`&:not(${c}-checkable-checked):hover`]:{color:e.colorTextDisabled}},"&-group":{display:"flex",flexWrap:"wrap",gap:e.paddingXS}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:s}},[`&${e.componentCls}-solid`]:{borderColor:"transparent",color:e.colorTextLightSolid,backgroundColor:e.colorBgSolid,[`&${c}-default`]:{color:e.solidTextColor}},[`${c}-filled`]:{borderColor:"transparent",backgroundColor:e.tagBorderlessBg},[`&${c}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",backgroundColor:e.colorBgContainerDisabled,a:{cursor:"not-allowed",pointerEvents:"none",color:e.colorTextDisabled,"&:hover":{color:e.colorTextDisabled}},"a&":{"&:hover, &:active":{color:e.colorTextDisabled}},[`&${c}-outlined`]:{borderColor:e.colorBorderDisabled},[`&${c}-solid, &${c}-filled`]:{color:e.colorTextDisabled,[`${c}-close-icon`]:{color:e.colorTextDisabled}},[`${c}-close-icon`]:{cursor:"not-allowed",color:e.colorTextDisabled,"&:hover":{color:e.colorTextDisabled}}}}})(de(e)),me),ue=e.forwardRef((o,t)=>{const{prefixCls:a,style:n,className:s,checked:i,children:d,icon:m,onChange:h,onClick:u,disabled:f,...p}=o,{getPrefixCls:g,tag:_}=e.useContext(r),b=e.useContext(l),v=f??b,y=g("tag",a),[C,w]=he(y),N=c(y,`${y}-checkable`,{[`${y}-checkable-checked`]:i,[`${y}-checkable-disabled`]:v},_?.className,s,C,w);return e.createElement("span",{...p,ref:t,style:{...n,..._?.style},className:N,onClick:e=>{v||(h?.(!i),u?.(e))}},m,e.createElement("span",null,d))});function fe(o,t){const{id:a,prefixCls:r,rootClassName:l,className:i,style:d,classNames:m,styles:h,disabled:u,options:f,value:p,defaultValue:g,onChange:C,multiple:w,...N}=o,{getPrefixCls:x,direction:$,className:j,style:k,classNames:S,styles:T}=s("tag"),E=x("tag",r),B=`${E}-checkable-group`,I=_(E),[D,R]=he(E,I),[M,O]=b([S,m],[T,h],{props:o}),H=e.useMemo(()=>(f||[]).map(e=>e&&"object"==typeof e?e:{value:e,label:e}),[f]),[P,L]=v(g,p),F=n.useRef(null);e.useImperativeHandle(t,()=>({nativeElement:F.current}));const q=z(N,{aria:!0,data:!0});return n.createElement("div",{...q,className:c(B,j,l,{[`${B}-disabled`]:u,[`${B}-rtl`]:"rtl"===$},D,R,i,M.root),style:{...k,...O.root,...d},id:a,ref:F},H.map(e=>n.createElement(ue,{key:e.value,className:c(`${B}-item`,M.item),style:O.item,checked:w?(P||[]).includes(e.value):P===e.value,onChange:o=>((e,o)=>{let t=null;if(w){const a=P||[];t=e?[].concat(y(a),[o.value]):a.filter(e=>e!==o.value)}else t=e?o.value:null;L(t),C?.(t)})(o,e),disabled:u},e.label)))}const pe=n.forwardRef(fe);const ge=N(["Tag","preset"],e=>(e=>x(e,(o,{textColor:t,lightBorderColor:a,lightColor:r,darkColor:l})=>({[`${e.componentCls}${e.componentCls}-${o}:not(${e.componentCls}-disabled)`]:{[`&${e.componentCls}-outlined`]:{backgroundColor:r,borderColor:a,color:t},[`&${e.componentCls}-solid`]:{backgroundColor:l,borderColor:l,color:e.colorTextLightSolid},[`&${e.componentCls}-filled`]:{backgroundColor:r,color:t}}})))(de(e)),me);const _e=(e,o,t)=>{const a="string"!=typeof(r=t)?r:r.charAt(0).toUpperCase()+r.slice(1);var r;return{[`${e.componentCls}${e.componentCls}-${o}:not(${e.componentCls}-disabled)`]:{[`&${e.componentCls}-outlined`]:{backgroundColor:e[`color${a}Bg`],borderColor:e[`color${a}Border`],color:e[`color${t}`]},[`&${e.componentCls}-solid`]:{backgroundColor:e[`color${t}`],borderColor:e[`color${t}`]},[`&${e.componentCls}-filled`]:{backgroundColor:e[`color${a}Bg`],color:e[`color${t}`]}}}},be=N(["Tag","status"],e=>{const o=de(e);return[_e(o,"success","Success"),_e(o,"processing","Info"),_e(o,"error","Error"),_e(o,"warning","Warning")]},me),ve=e.forwardRef((o,t)=>{const{prefixCls:n,className:i,rootClassName:d,style:m,children:h,icon:u,color:f,variant:p,onClose:g,bordered:_,disabled:v,href:y,target:N,styles:x,classNames:S,...T}=o,{getPrefixCls:E,direction:B,className:I,variant:D,style:R,classNames:M,styles:O}=s("tag"),[z,F,q,A,W]=function(o,t){const{color:r,variant:l,bordered:c}=o;return e.useMemo(()=>{const e=r?.endsWith("-inverse");let o;o=l||(e?"solid":!1===c?"filled":t||"filled");const n=e?r?.replace("-inverse",""):r,s=C(r),i=w(r),d={};if(!s&&!i&&n)if("solid"===o)d.backgroundColor=r;else{const e=new a(n).toHsl();e.l=.95,d.backgroundColor=new a(e).toHexString(),d.color=r,"outlined"===o&&(d.borderColor=r)}return[o,n,s,i,d]},[r,l,c,t])}(o,D),V=q||A,X=e.useContext(l),G=v??X,{tag:K}=e.useContext(r),[U,J]=e.useState(!0),Q=$(T,["closeIcon","closable"]),Y={...o,color:F,variant:z,disabled:G,href:y,target:N,icon:u},[Z,ee]=b([M,S],[O,x],{props:Y}),oe=e.useMemo(()=>{let e={...ee.root,...R,...m};return G||(e={...W,...e}),e},[ee.root,R,m,W,G]),te=E("tag",n),[ae,re]=he(te),le=c(te,I,Z.root,`${te}-${z}`,{[`${te}-${F}`]:V,[`${te}-hidden`]:!U,[`${te}-rtl`]:"rtl"===B,[`${te}-disabled`]:G},i,d,ae,re),ce=e=>{G||(e.stopPropagation(),g?.(e),e.defaultPrevented||J(!1))},[,ne]=P(L(o),L(K),{closable:!1,closeIconRender:o=>k(o,e.createElement("span",{className:`${te}-close-icon`,onClick:ce},o),e=>({onClick:o=>{e?.onClick?.(o),ce(o)},className:c(e?.className,`${te}-close-icon`)}))}),se="function"==typeof T.onClick||h&&"a"===h.type,ie=j(u,{className:c(e.isValidElement(u)?u.props?.className:"",Z.icon),style:ee.icon}),de=ie?e.createElement(e.Fragment,null,ie,h&&e.createElement("span",{className:Z.content,style:ee.content},h)):h,me=y?"a":"span",ue=e.createElement(me,{...Q,ref:t,className:le,style:oe,href:G?void 0:y,target:N,onClick:G?void 0:Q.onClick,...y&&G?{"aria-disabled":!0}:{}},de,ne,q&&e.createElement(ge,{key:"preset",prefixCls:te}),A&&e.createElement(be,{key:"status",prefixCls:te}));return se?e.createElement(H,{component:"Tag"},ue):ue});ve.CheckableTag=ue,ve.CheckableTagGroup=pe;const ye=e=>new Promise(o=>setTimeout(o,e)),Ce=["电商","抽象","创意","写实风","植物","装饰"],we={getCategories:()=>Ce,downloadImage:async(e,o)=>{await ye(100);try{if(window.electron&&window.electron.downloadFile)await window.electron.downloadFile(e,o);else{const t=document.createElement("a");t.href=e,t.download=o,t.click()}return{success:!0}}catch(t){throw new Error("下载失败"+t.message)}},getSimilarImages:async e=>{await ye(100);try{return{data:[{id:`similar-${e}-1`,img:`https://picsum.photos/seed/${e}-1/400/600.jpg`,url:`#similar-${e}-1`,height:600},{id:`similar-${e}-2`,img:`https://picsum.photos/seed/${e}-2/400/500.jpg`,url:`#similar-${e}-2`,height:500},{id:`similar-${e}-3`,img:`https://picsum.photos/seed/${e}-3/400/700.jpg`,url:`#similar-${e}-3`,height:700},{id:`similar-${e}-4`,img:`https://picsum.photos/seed/${e}-4/400/450.jpg`,url:`#similar-${e}-4`,height:450},{id:`similar-${e}-5`,img:`https://picsum.photos/seed/${e}-5/400/550.jpg`,url:`#similar-${e}-5`,height:550},{id:`similar-${e}-6`,img:`https://picsum.photos/seed/${e}-6/400/650.jpg`,url:`#similar-${e}-6`,height:650}]}}catch(o){throw new Error("获取相似图片失败: "+o.message)}}},Ne="_container_2f4dj_3",xe="_header_2f4dj_7",$e="_headerLeft_2f4dj_10",je="_headerRight_2f4dj_11",ke="_headerCenter_2f4dj_14",Se="_backButton_2f4dj_17",Te="_moreButton_2f4dj_23",Ee="_mainContent_2f4dj_32",Be="_imageSection_2f4dj_36",Ie="_imageWrapper_2f4dj_39",De="_mainImage_2f4dj_42",Re="_infoSection_2f4dj_48",Me="_authorInfo_2f4dj_52",Oe="_authorAvatar_2f4dj_55",ze="_authorDetails_2f4dj_61",He="_authorName_2f4dj_64",Pe="_publishDate_2f4dj_70",Le="_divider_2f4dj_76",Fe="_stats_2f4dj_82",qe="_statItem_2f4dj_85",Ae="_statIcon_2f4dj_88",We="_statNumber_2f4dj_91",Ve="_statLabel_2f4dj_94",Xe="_tagsSection_2f4dj_100",Ge="_sectionTitle_2f4dj_103",Ke="_tagsList_2f4dj_106",Ue="_tag_2f4dj_100",Je="_descriptionSection_2f4dj_118",Qe="_description_2f4dj_118",Ye="_detailsSection_2f4dj_130",Ze="_detailGrid_2f4dj_136",eo="_detailItem_2f4dj_139",oo="_detailLabel_2f4dj_145",to="_detailValue_2f4dj_148",ao="_actionButtons_2f4dj_154",ro="_downloadButton_2f4dj_157",lo="_sameStyleButton_2f4dj_160",co="_similarImagesButton_2f4dj_166",no="_loadingContainer_2f4dj_174",so="_loadingSpinner_2f4dj_177",io="_errorContainer_2f4dj_185",mo="_similarImagesSection_2f4dj_202",ho="_similarImagesHeader_2f4dj_207",uo="_closeButton_2f4dj_213",fo="_similarImagesContent_2f4dj_219",po="_noSimilarImages_2f4dj_231",go=o=>{const t=S.c(48),{items:a,ease:r,duration:l,stagger:c,animateFrom:n,scaleOnHover:s,hoverScale:d,blurToFocus:m,colorShiftOnHover:h}=o,u=void 0===r?"power3.out":r,f=void 0===l?.6:l,p=void 0===c?.05:c,g=void 0===n?"bottom":n,_=void 0===s||s,b=void 0===d?.95:d,v=void 0===m||m,y=void 0!==h&&h;let C,w;t[0]===Symbol.for("react.memo_cache_sentinel")?(w=["(min-width:1500px)","(min-width:1000px)","(min-width:600px)","(min-width:400px)"],C=[5,4,3,2],t[0]=C,t[1]=w):(C=t[0],w=t[1]);const N=((o,t,a)=>{const r=S.c(9);let l;r[0]!==a||r[1]!==o||r[2]!==t?(l=()=>t[o.findIndex(_o)]??a,r[0]=a,r[1]=o,r[2]=t,r[3]=l):l=r[3];const c=l,[n,s]=e.useState(c);let i,d;return r[4]!==c||r[5]!==o?(i=()=>{const e=()=>s(c);return o.forEach(o=>matchMedia(o).addEventListener("change",e)),()=>o.forEach(o=>matchMedia(o).removeEventListener("change",e))},r[4]=c,r[5]=o,r[6]=i):i=r[6],r[7]!==o?(d=[o],r[7]=o,r[8]=d):d=r[8],e.useEffect(i,d),n})(w,C,1),[x,$]=(()=>{const o=S.c(5),t=e.useRef(null);let a;o[0]===Symbol.for("react.memo_cache_sentinel")?(a={width:0,height:0},o[0]=a):a=o[0];const[r,l]=e.useState(a);let c,n,s;return o[1]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{if(!t.current)return;const e=new ResizeObserver(e=>{const[o]=e,{width:t,height:a}=o.contentRect;l({width:t,height:a})});return e.observe(t.current),()=>e.disconnect()},n=[],o[1]=c,o[2]=n):(c=o[1],n=o[2]),e.useLayoutEffect(c,n),o[3]!==r?(s=[t,r],o[3]=r,o[4]=s):s=o[4],s})(),{width:j}=$,[k,T]=e.useState(!1);let E;t[2]!==g||t[3]!==x?(E=e=>{const o=x.current?.getBoundingClientRect();if(!o)return{x:e.x,y:e.y};let t=g;if("random"===g){const e=["top","bottom","left","right"];t=e[Math.floor(Math.random()*e.length)]}switch(t){case"top":return{x:e.x,y:-200};case"bottom":return{x:e.x,y:window.innerHeight+200};case"left":return{x:-200,y:e.y};case"right":return{x:window.innerWidth+200,y:e.y};case"center":return{x:o.width/2-e.w/2,y:o.height/2-e.h/2};default:return{x:e.x,y:e.y+100}}},t[2]=g,t[3]=x,t[4]=E):E=t[4];const B=E;let I,D,R;t[5]!==a?(I=()=>{(async e=>{await Promise.all(e.map(e=>new Promise(o=>{const t=new Image;t.src=e,t.onload=t.onerror=()=>o()})))})(a.map(bo)).then(()=>T(!0))},D=[a],t[5]=a,t[6]=I,t[7]=D):(I=t[6],D=t[7]),e.useEffect(I,D);e:{if(!j){let e;t[8]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[8]=e):e=t[8],R=e;break e}let e;if(t[9]!==N||t[10]!==a||t[11]!==j){const o=new Array(N).fill(0),r=(j-16*(N-1))/N;e=a.map(e=>{const t=o.indexOf(Math.min(...o)),a=t*(r+16),l=e.height/2,c=o[t];return o[t]=o[t]+(l+16),{...e,x:a,y:c,w:r,h:l}}),t[9]=N,t[10]=a,t[11]=j,t[12]=e}else e=t[12];R=e}const O=R,z=e.useRef(!1);let H,P,L;t[13]!==v||t[14]!==f||t[15]!==u||t[16]!==B||t[17]!==O||t[18]!==k||t[19]!==p?(H=()=>{k&&(O.forEach((e,o)=>{const t=`[data-key="${e.id}"]`,a={x:e.x,y:e.y,width:e.w,height:e.h};if(z.current)M.to(t,{...a,duration:f,ease:u,overwrite:"auto"});else{const r=B(e);M.fromTo(t,{opacity:0,x:r.x,y:r.y,width:e.w,height:e.h,...v&&{filter:"blur(10px)"}},{opacity:1,...a,...v&&{filter:"blur(0px)"},duration:.8,ease:"power3.out",delay:o*p})}}),z.current=!0)},t[13]=v,t[14]=f,t[15]=u,t[16]=B,t[17]=O,t[18]=k,t[19]=p,t[20]=H):H=t[20],t[21]!==g||t[22]!==v||t[23]!==f||t[24]!==u||t[25]!==O||t[26]!==k||t[27]!==p?(P=[O,k,p,g,v,f,u],t[21]=g,t[22]=v,t[23]=f,t[24]=u,t[25]=O,t[26]=k,t[27]=p,t[28]=P):P=t[28],e.useLayoutEffect(H,P),t[29]!==y||t[30]!==b||t[31]!==_?(L=(e,o)=>{if(_&&M.to(`[data-key="${e}"]`,{scale:b,duration:.3,ease:"power2.out"}),y){const e=o.querySelector(".color-overlay");e&&M.to(e,{opacity:.3,duration:.3})}},t[29]=y,t[30]=b,t[31]=_,t[32]=L):L=t[32];const F=L;let q;t[33]!==y||t[34]!==_?(q=(e,o)=>{if(_&&M.to(`[data-key="${e}"]`,{scale:1,duration:.3,ease:"power2.out"}),y){const e=o.querySelector(".color-overlay");e&&M.to(e,{opacity:0,duration:.3})}},t[33]=y,t[34]=_,t[35]=q):q=t[35];const A=q;let W,V;if(t[36]!==y||t[37]!==O||t[38]!==F||t[39]!==A){let e;t[41]!==y||t[42]!==F||t[43]!==A?(e=e=>i("div",{"data-key":e.id,className:"absolute box-content",style:{willChange:"transform, width, height, opacity"},onClick:()=>window.open(e.url,"_blank","noopener"),onMouseEnter:o=>F(e.id,o.currentTarget),onMouseLeave:o=>A(e.id,o.currentTarget),children:i("div",{className:"relative w-full h-full bg-cover bg-center rounded-[10px] shadow-[0px_10px_50px_-10px_rgba(0,0,0,0.2)] uppercase text-[10px] leading-[10px]",style:{backgroundImage:`url(${e.img})`},children:y&&i("div",{className:"color-overlay absolute inset-0 rounded-[10px] bg-gradient-to-tr from-pink-500/50 to-sky-500/50 opacity-0 pointer-events-none"})})},e.id),t[41]=y,t[42]=F,t[43]=A,t[44]=e):e=t[44],W=O.map(e),t[36]=y,t[37]=O,t[38]=F,t[39]=A,t[40]=W}else W=t[40];return t[45]!==x||t[46]!==W?(V=i("div",{ref:x,className:"relative w-full h-full",children:W}),t[45]=x,t[46]=W,t[47]=V):V=t[47],V};function _o(e){return matchMedia(e).matches}function bo(e){return e.img}const vo=o=>{const t=S.c(142),{id:a}=d(),{onClose:r}=o,l=m();e.useState(!1),e.useState(0);const[c,n]=e.useState(!1),s=T(),u="images-"+a;let f,p,g,_;t[0]!==u?(f=[u],t[0]=u,t[1]=f):f=t[1],t[2]!==a?(p=D(a),t[2]=a,t[3]=p):p=t[3],t[4]!==a||t[5]!==s?(g=()=>s.get("/square/posts/"+a,{}),t[4]=a,t[5]=s,t[6]=g):g=t[6],t[7]!==f||t[8]!==p||t[9]!==g?(_={queryKey:f,enabled:p,queryFn:g},t[7]=f,t[8]=p,t[9]=g,t[10]=_):_=t[10];const{data:b,isFetching:v}=E(_);let y;t[11]!==b?.data?(y=b?.data??{},t[11]=b?.data,t[12]=y):y=t[12];const C=y,w="similar-images-"+a;let N,x,$,j;t[13]!==w?(N=[w],t[13]=w,t[14]=N):N=t[14],t[15]!==a||t[16]!==c?(x=D(a)&&c,t[15]=a,t[16]=c,t[17]=x):x=t[17],t[18]!==a?($=()=>we.getSimilarImages(a),t[18]=a,t[19]=$):$=t[19],t[20]!==N||t[21]!==x||t[22]!==$?(j={queryKey:N,enabled:x,queryFn:$},t[20]=N,t[21]=x,t[22]=$,t[23]=j):j=t[23];const{data:k,isFetching:B}=E(j);let M;t[24]!==k?.data?(M=k?.data??[],t[24]=k?.data,t[25]=M):M=t[25];const z=M;let H;t[26]!==l||t[27]!==r?(H=()=>{l("/discover"),r?.()},t[26]=l,t[27]=r,t[28]=H):H=t[28];const P=H;let L;t[29]!==C?.preview?.url||t[30]!==C?.title?(L=()=>{const e=document.createElement("a");e.href=C?.preview?.url||"",e.download=`${C?.title||"image"}.jpg`,document.body.appendChild(e),e.click(),document.body.removeChild(e),A.success("开始下载")},t[29]=C?.preview?.url,t[30]=C?.title,t[31]=L):L=t[31];const K=L;let U;t[32]!==c?(U=()=>{n(!c)},t[32]=c,t[33]=U):U=t[33];const J=U;let Y;t[34]===Symbol.for("react.memo_cache_sentinel")?(Y=[{key:"collect",label:"采集到画板"},{key:"info",label:"图片信息"}],t[34]=Y):Y=t[34];const Z=Y;if(v){let e;return t[35]===Symbol.for("react.memo_cache_sentinel")?(e=h("div",{className:no,children:[i("div",{className:so}),i("p",{children:"加载中..."})]}),t[35]=e):e=t[35],e}if(!C){let e,o;return t[36]===Symbol.for("react.memo_cache_sentinel")?(e=i("p",{children:"图片不存在或已被删除"}),t[36]=e):e=t[36],t[37]!==P?(o=h("div",{className:io,children:[e,i(I,{onClick:P,children:"返回"})]}),t[37]=P,t[38]=o):o=t[38],o}let ee,te,ae,re,ce,ne;t[39]===Symbol.for("react.memo_cache_sentinel")?(ee=i(O,{}),t[39]=ee):ee=t[39],t[40]!==P?(te=i("div",{className:$e,children:i(I,{icon:ee,onClick:P,className:Se,children:"返回"})}),t[40]=P,t[41]=te):te=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(ae=i("div",{className:ke}),t[42]=ae):ae=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(re={items:Z},t[43]=re):re=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(ce=i("div",{className:je,children:i(F,{menu:re,placement:"bottomRight",children:i(I,{icon:i(le,{}),className:Te})})}),t[44]=ce):ce=t[44],t[45]!==te?(ne=h("header",{className:xe,children:[te,ae,ce]}),t[45]=te,t[46]=ne):ne=t[46];const se=C.preview?.url,de=`${C?.preview?.width} / ${C?.preview?.height}`;let me,he;t[47]!==de?(me={aspectRatio:de},t[47]=de,t[48]=me):me=t[48],t[49]!==C.title||t[50]!==se||t[51]!==me?(he=i("div",{className:Be,children:i("div",{className:Ie,children:i("img",{src:se,alt:C.title,className:De,style:me})})}),t[49]=C.title,t[50]=se,t[51]=me,t[52]=he):he=t[52];const ue=C.authorInfo?.avatar||null;let fe,pe;t[53]===Symbol.for("react.memo_cache_sentinel")?(fe=i(W,{}),t[53]=fe):fe=t[53],t[54]!==ue?(pe=i(q,{size:48,src:ue,icon:fe,className:Oe}),t[54]=ue,t[55]=pe):pe=t[55];const ge=C.authorInfo?.name;let _e,be,ve,ye,Ce,Ue,_o,bo,vo,wo,No,xo,$o,jo,ko,So,To,Eo,Bo,Io,Do,Ro,Mo,Oo,zo;t[56]!==ge?(_e=i("h3",{className:He,children:ge}),t[56]=ge,t[57]=_e):_e=t[57],t[58]===Symbol.for("react.memo_cache_sentinel")?(be=i(Q,{}),t[58]=be):be=t[58],t[59]!==C.createDate?(ve=h("p",{className:Pe,children:[be," ",C.createDate]}),t[59]=C.createDate,t[60]=ve):ve=t[60],t[61]!==_e||t[62]!==ve?(ye=h("div",{className:ze,children:[_e,ve]}),t[61]=_e,t[62]=ve,t[63]=ye):ye=t[63],t[64]!==pe||t[65]!==ye?(Ce=h("div",{className:Me,children:[pe,ye]}),t[64]=pe,t[65]=ye,t[66]=Ce):Ce=t[66],t[67]===Symbol.for("react.memo_cache_sentinel")?(Ue=i(V,{className:Le}),t[67]=Ue):Ue=t[67],t[68]===Symbol.for("react.memo_cache_sentinel")?(_o=i(R,{className:Ae}),t[68]=_o):_o=t[68],t[69]!==C.views?(bo=i("span",{className:We,children:C.views}),t[69]=C.views,t[70]=bo):bo=t[70],t[71]===Symbol.for("react.memo_cache_sentinel")?(vo=i("span",{className:Ve,children:"浏览"}),t[71]=vo):vo=t[71],t[72]!==bo?(wo=h("div",{className:qe,children:[_o,bo,vo]}),t[72]=bo,t[73]=wo):wo=t[73],t[74]===Symbol.for("react.memo_cache_sentinel")?(No=i(oe,{className:Ae}),t[74]=No):No=t[74],t[75]!==C.likesCount?(xo=i("span",{className:We,children:C.likesCount}),t[75]=C.likesCount,t[76]=xo):xo=t[76],t[77]===Symbol.for("react.memo_cache_sentinel")?($o=i("span",{className:Ve,children:"喜欢"}),t[77]=$o):$o=t[77],t[78]!==xo?(jo=h("div",{className:qe,children:[No,xo,$o]}),t[78]=xo,t[79]=jo):jo=t[79],t[80]!==wo||t[81]!==jo?(ko=h("div",{className:Fe,children:[wo,jo]}),t[80]=wo,t[81]=jo,t[82]=ko):ko=t[82],t[83]===Symbol.for("react.memo_cache_sentinel")?(So=i(V,{className:Le}),t[83]=So):So=t[83],t[84]===Symbol.for("react.memo_cache_sentinel")?(To=h("div",{className:Ge,children:[i(ie,{})," 标签"]}),t[84]=To):To=t[84],t[85]!==C.tags?(Eo=C.tags?.map(yo),t[85]=C.tags,t[86]=Eo):Eo=t[86],t[87]!==Eo?(Bo=h("div",{className:Xe,children:[To,i("div",{className:Ke,children:Eo})]}),t[87]=Eo,t[88]=Bo):Bo=t[88],t[89]===Symbol.for("react.memo_cache_sentinel")?(Io=i(V,{className:Le}),t[89]=Io):Io=t[89],t[90]===Symbol.for("react.memo_cache_sentinel")?(Do=i("div",{className:Ge,children:"描述"}),t[90]=Do):Do=t[90],t[91]!==C.description?(Ro=h("div",{className:Je,children:[Do,i("p",{className:Qe,children:C.description})]}),t[91]=C.description,t[92]=Ro):Ro=t[92],t[93]===Symbol.for("react.memo_cache_sentinel")?(Mo=i(V,{className:Le}),t[93]=Mo):Mo=t[93],t[94]===Symbol.for("react.memo_cache_sentinel")?(Oo=i("div",{className:Ge,children:"详细信息"}),t[94]=Oo):Oo=t[94],t[95]===Symbol.for("react.memo_cache_sentinel")?(zo=i("span",{className:oo,children:"尺寸:"}),t[95]=zo):zo=t[95];const Ho=C.preview?.width,Po=C.preview?.height;let Lo,Fo,qo,Ao,Wo,Vo,Xo,Go,Ko,Uo;t[96]!==Ho||t[97]!==Po?(Lo=h("div",{className:eo,children:[zo,h("span",{className:to,children:[Ho,"x",Po]})]}),t[96]=Ho,t[97]=Po,t[98]=Lo):Lo=t[98],t[99]===Symbol.for("react.memo_cache_sentinel")?(Fo=i("span",{className:oo,children:"格式:"}),t[99]=Fo):Fo=t[99],t[100]!==C.format?(qo=h("div",{className:eo,children:[Fo,i("span",{className:to,children:C.format})]}),t[100]=C.format,t[101]=qo):qo=t[101],t[102]===Symbol.for("react.memo_cache_sentinel")?(Ao=i("span",{className:oo,children:"分类:"}),t[102]=Ao):Ao=t[102],t[103]!==C.category?(Wo=h("div",{className:eo,children:[Ao,i("span",{className:to,children:C.category})]}),t[103]=C.category,t[104]=Wo):Wo=t[104],t[105]!==Lo||t[106]!==qo||t[107]!==Wo?(Vo=h("div",{className:Ye,children:[Oo,h("div",{className:Ze,children:[Lo,qo,Wo]})]}),t[105]=Lo,t[106]=qo,t[107]=Wo,t[108]=Vo):Vo=t[108],t[109]===Symbol.for("react.memo_cache_sentinel")?(Xo=i(X,{}),t[109]=Xo):Xo=t[109],t[110]!==K?(Go=i(I,{type:"primary",icon:Xo,onClick:K,className:ro,block:!0,children:"下载"}),t[110]=K,t[111]=Go):Go=t[111],t[112]!==a||t[113]!==l?(Ko=i(I,{className:lo,block:!0,onClick:()=>l(`/image-generator?id=${a}`),children:"做同款"}),t[112]=a,t[113]=l,t[114]=Ko):Ko=t[114],t[115]===Symbol.for("react.memo_cache_sentinel")?(Uo=i(G,{}),t[115]=Uo):Uo=t[115];const Jo=c?"收起相似图片":"相似图片";let Qo,Yo,Zo,et,ot,tt;return t[116]!==J||t[117]!==Jo?(Qo=i(I,{icon:Uo,onClick:J,className:co,block:!0,children:Jo}),t[116]=J,t[117]=Jo,t[118]=Qo):Qo=t[118],t[119]!==Go||t[120]!==Ko||t[121]!==Qo?(Yo=h("div",{className:ao,children:[Go,Ko,Qo]}),t[119]=Go,t[120]=Ko,t[121]=Qo,t[122]=Yo):Yo=t[122],t[123]!==Ce||t[124]!==ko||t[125]!==Bo||t[126]!==Ro||t[127]!==Vo||t[128]!==Yo?(Zo=h("aside",{className:Re,children:[Ce,Ue,ko,So,Bo,Io,Ro,Mo,Vo,Yo]}),t[123]=Ce,t[124]=ko,t[125]=Bo,t[126]=Ro,t[127]=Vo,t[128]=Yo,t[129]=Zo):Zo=t[129],t[130]!==he||t[131]!==Zo?(et=h("main",{className:Ee,children:[he,Zo]}),t[130]=he,t[131]=Zo,t[132]=et):et=t[132],t[133]!==J||t[134]!==B||t[135]!==c||t[136]!==z?(ot=c&&h("div",{className:mo,children:[h("div",{className:ho,children:[i("h3",{children:"相似图片"}),i(I,{type:"text",icon:i(O,{}),onClick:J,className:uo})]}),i("div",{className:fo,children:B?h("div",{className:no,children:[i("div",{className:so}),i("p",{children:"加载相似图片中..."})]}):z.length>0?i(go,{items:z.map(Co),duration:.5,stagger:.03,scaleOnHover:!0,hoverScale:.98,blurToFocus:!0}):i("div",{className:po,children:i("p",{children:"暂无相似图片"})})})]}),t[133]=J,t[134]=B,t[135]=c,t[136]=z,t[137]=ot):ot=t[137],t[138]!==ne||t[139]!==et||t[140]!==ot?(tt=h("div",{className:Ne,children:[ne,et,ot]}),t[138]=ne,t[139]=et,t[140]=ot,t[141]=tt):tt=t[141],tt};function yo(e,o){return i(ve,{className:Ue,children:e},o)}function Co(e){return{...e,url:`/agc/image/${e.id.split("-")[1]}`}}const wo=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"}));export{vo as I,oe as R,ve as T,wo as a,we as i};
