import{r as e,R as t,e as n,g as r,D as s,l as a,C as o,w as l,d as u}from"./index-CDKw0UCm.js";import{I as i,d as c,H as p,o as m,u as f,L as d,y as g,a as y,F as C,M as x,g as v,m as h,_ as b,b as E,J as $}from"./compiler-runtime-BNGP8ANp.js";import{S as w}from"./index-CzyhcM6b.js";import{h as N,B as k,r as R,j as S,k as F,l as z,u as I,a as j,i as M,T as P}from"./TextArea-BHGhucwa.js";import{c as A,b as B}from"./statusUtils-BWZF7hSp.js";import{p as T}from"./index-CC9YKY7L.js";import{R as O,B as D}from"./http-1EEc4dlM.js";import{R as L}from"./SearchOutlined-CuOU4q28.js";var K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U.apply(this,arguments)}const X=(t,n)=>e.createElement(i,U({},t,{ref:n,icon:K})),q=e.forwardRef(X);function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const _=e.forwardRef((r,s)=>{const{autoComplete:a,onChange:o,onFocus:l,onBlur:u,onPressEnter:i,onKeyDown:f,onKeyUp:d,prefixCls:g="rc-input",disabled:y,htmlSize:C,className:x,maxLength:v,suffix:h,showCount:b,count:E,type:$="text",classes:w,classNames:S,styles:F,onCompositionStart:z,onCompositionEnd:I,...j}=r,[M,P]=e.useState(!1),A=e.useRef(!1),B=e.useRef(!1),T=e.useRef(null),O=e.useRef(null),D=e=>{T.current&&p(T.current,e)},[L,K]=c(r.defaultValue,r.value),U=null==L?"":String(L),[X,q]=e.useState(null),_=N(E,b),H=_.max||v,Q=_.strategy(U),W=!!H&&Q>H;e.useImperativeHandle(s,()=>({focus:D,blur:()=>{T.current?.blur()},setSelectionRange:(e,t,n)=>{T.current?.setSelectionRange(e,t,n)},select:()=>{T.current?.select()},input:T.current,nativeElement:O.current?.nativeElement||T.current})),e.useEffect(()=>{B.current&&(B.current=!1),P(e=>(!e||!y)&&e)},[y]);const G=(e,t,n)=>{let r=t;if(!A.current&&_.exceedFormatter&&_.max&&_.strategy(t)>_.max)r=_.exceedFormatter(t,{max:_.max}),t!==r&&q([T.current?.selectionStart||0,T.current?.selectionEnd||0]);else if("compositionEnd"===n.source)return;K(r),T.current&&R(T.current,e,o,r)};e.useEffect(()=>{X&&T.current?.setSelectionRange(...X)},[X]);const J=e=>{G(e,e.target.value,{source:"change"})},Y=e=>{A.current=!1,G(e,e.currentTarget.value,{source:"compositionEnd"}),I?.(e)},Z=e=>{!i||"Enter"!==e.key||B.current||e.nativeEvent.isComposing||(B.current=!0,i(e)),f?.(e)},ee=e=>{"Enter"===e.key&&(B.current=!1),d?.(e)},te=e=>{P(!0),l?.(e)},ne=e=>{B.current&&(B.current=!1),P(!1),u?.(e)},re=W&&`${g}-out-of-range`;return t.createElement(k,V({},j,{prefixCls:g,className:n(x,re),handleReset:e=>{K(""),D(),T.current&&R(T.current,e,o)},value:U,focused:M,triggerFocus:D,suffix:(()=>{const e=Number(H)>0;if(h||_.show){const r=_.showFormatter?_.showFormatter({value:U,count:Q,maxLength:H}):`${Q}${e?` / ${H}`:""}`;return t.createElement(t.Fragment,null,_.show&&t.createElement("span",{className:n(`${g}-show-count-suffix`,{[`${g}-show-count-has-suffix`]:!!h},S?.count),style:{...F?.count}},r),h)}return null})(),disabled:y,classes:w,classNames:S,styles:F,ref:O}),(()=>{const e=m(r,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return t.createElement("input",V({autoComplete:a},e,{onChange:J,onFocus:te,onBlur:ne,onKeyDown:Z,onKeyUp:ee,className:n(g,{[`${g}-disabled`]:y},S?.input),style:F?.input,ref:T,size:C,type:$,onCompositionStart:e=>{A.current=!0,z?.(e)},onCompositionEnd:Y}))})())});function H(t,n){const r=e.useRef([]),s=()=>{r.current.push(setTimeout(()=>{t.current?.input&&"password"===t.current?.input.getAttribute("type")&&t.current?.input.hasAttribute("value")&&t.current?.input.removeAttribute("value")}))};return e.useEffect(()=>(n&&s(),()=>r.current.forEach(e=>{e&&clearTimeout(e)})),[]),s}const Q=e.forwardRef((o,l)=>{const{prefixCls:u,bordered:i=!0,status:c,size:p,disabled:m,onBlur:v,onFocus:h,suffix:b,allowClear:E,addonAfter:$,addonBefore:w,className:N,style:k,styles:R,rootClassName:j,onChange:M,classNames:P,variant:T,...O}=o,{getPrefixCls:D,direction:L,allowClear:K,autoComplete:U,className:X,style:q,classNames:V,styles:Q}=r("input"),W=D("input",u),G=e.useRef(null),J=f(W),[Y,Z]=S(W,j);F(W,J);const{compactSize:ee,compactItemClassnames:te}=d(W,L),ne=g(e=>p??ee??e),re=t.useContext(s),se=m??re,ae={...o,size:ne,disabled:se},[oe,le]=y([V,P],[Q,R],{props:ae}),{status:ue,hasFeedback:ie,feedbackIcon:ce}=e.useContext(C),pe=B(ue,c),me=function(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}(o)||!!ie;e.useRef(me);const fe=H(G,!0),de=(ie||b)&&t.createElement(t.Fragment,null,b,ie&&ce),ge=z(E??K),[ye,Ce]=I("input",T,i);return t.createElement(_,{ref:a(l,G),prefixCls:W,autoComplete:U,...O,disabled:se,onBlur:e=>{fe(),v?.(e)},onFocus:e=>{fe(),h?.(e)},style:{...le.root,...q,...k},styles:le,suffix:de,allowClear:ge,className:n(N,j,Z,J,te,X,oe.root),onChange:e=>{fe(),M?.(e)},addonBefore:w&&t.createElement(x,{form:!0,space:!0},w),addonAfter:$&&t.createElement(x,{form:!0,space:!0},$),classNames:{...oe,input:n({[`${W}-sm`]:"small"===ne,[`${W}-lg`]:"large"===ne,[`${W}-rtl`]:"rtl"===L},oe.input,Y),variant:n({[`${W}-${ye}`]:Ce},A(W,pe)),affixWrapper:n({[`${W}-affix-wrapper-sm`]:"small"===ne,[`${W}-affix-wrapper-lg`]:"large"===ne,[`${W}-affix-wrapper-rtl`]:"rtl"===L},Y),wrapper:n({[`${W}-group-rtl`]:"rtl"===L},Y),groupWrapper:n({[`${W}-group-wrapper-sm`]:"small"===ne,[`${W}-group-wrapper-lg`]:"large"===ne,[`${W}-group-wrapper-rtl`]:"rtl"===L,[`${W}-group-wrapper-${ye}`]:Ce},A(`${W}-group-wrapper`,pe,ie),Y)}})}),W=v(["Input","OTP"],e=>(e=>{const{componentCls:t,paddingXS:n}=e;return{[t]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:n,[`${t}-input-wrapper`]:{position:"relative",[`${t}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${t}-mask-input`]:{color:"transparent",caretColor:e.colorText},[`${t}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${t}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${t}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${t}-sm ${t}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${t}-lg ${t}-input`]:{paddingInline:e.paddingXS}}}})(h(e,j(e))),M),G=e.forwardRef((t,r)=>{const{className:s,value:a,onChange:u,onActiveChange:i,index:c,mask:p,onFocus:m,...f}=t,{getPrefixCls:d}=e.useContext(o),g=d("otp"),y="string"==typeof p?p:a,C=e.useRef(null);e.useImperativeHandle(r,()=>C.current);const x=()=>{l(()=>{const e=C.current?.input;document.activeElement===e&&e&&e.select()})};return e.createElement("span",{className:`${g}-input-wrapper`,role:"presentation"},p&&""!==a&&void 0!==a&&e.createElement("span",{className:`${g}-mask-icon`,"aria-hidden":"true"},y),e.createElement(Q,{"aria-label":`OTP Input ${c+1}`,type:!0===p?"password":"text",...f,ref:C,value:a,onInput:e=>{u(c,e.target.value)},onFocus:e=>{m?.(e),x()},onKeyDown:e=>{const{key:t,ctrlKey:n,metaKey:r}=e;"ArrowLeft"===t?i(c-1):"ArrowRight"===t?i(c+1):"z"===t&&(n||r)?e.preventDefault():"Backspace"!==t||a||i(c-1),x()},onMouseDown:x,onMouseUp:x,className:n(s,{[`${g}-mask-input`]:p})}))});function J(e){return(e||"").split("")}const Y=t=>{const{index:r,prefixCls:s,separator:a,className:o,style:l}=t,u="function"==typeof a?a(r):a;return u?e.createElement("span",{className:n(`${s}-separator`,o),style:l},u):null},Z=e.forwardRef((t,s)=>{const{prefixCls:a,length:o=6,size:l,defaultValue:i,value:c,onChange:p,formatter:m,separator:f,variant:d,disabled:x,status:v,autoFocus:h,mask:E,type:$,onInput:w,onFocus:N,inputMode:k,classNames:R,styles:S,className:F,style:z,...I}=t,{classNames:j,styles:M,getPrefixCls:P,direction:A,style:O,className:D}=r("otp"),L=P("otp",a),K={...t,length:o},[U,X]=y([j,R],[M,S],{props:K}),q=T(I,{aria:!0,data:!0,attr:!0}),[V,_]=W(L),H=g(e=>l??e),Q=e.useContext(C),Z=B(Q.status,v),ee=e.useMemo(()=>({...Q,status:Z,hasFeedback:!1,feedbackIcon:null}),[Q,Z]),te=e.useRef(null),ne=e.useRef({});e.useImperativeHandle(s,()=>({focus:()=>{ne.current[0]?.focus()},blur:()=>{for(let e=0;e<o;e+=1)ne.current[e]?.blur()},nativeElement:te.current}));const re=e=>m?m(e):e,[se,ae]=e.useState(()=>J(re(i||"")));e.useEffect(()=>{void 0!==c&&ae(J(c))},[c]);const oe=u(e=>{ae(e),w&&w(e),p&&e.length===o&&e.every(e=>e)&&e.some((e,t)=>se[t]!==e)&&p(e.join(""))}),le=u((e,t)=>{let n=b(se);for(let s=0;s<e;s+=1)n[s]||(n[s]="");t.length<=1?n[e]=t:n=n.slice(0,e).concat(J(t)),n=n.slice(0,o);for(let s=n.length-1;s>=0&&!n[s];s-=1)n.pop();const r=re(n.map(e=>e||" ").join(""));return n=J(r).map((e,t)=>" "!==e||n[t]?e:n[t]),n}),ue=(e,t)=>{const n=le(e,t),r=Math.min(e+t.length,o-1);r!==e&&void 0!==n[e]&&ne.current[r]?.focus(),oe(n)},ie=e=>{ne.current[e]?.focus()},ce={variant:d,disabled:x,status:Z,mask:E,type:$,inputMode:k};return e.createElement("div",{...q,ref:te,className:n(F,L,{[`${L}-sm`]:"small"===H,[`${L}-lg`]:"large"===H,[`${L}-rtl`]:"rtl"===A},_,V,D,U.root),style:{...X.root,...O,...z},role:"group"},e.createElement(C.Provider,{value:ee},Array.from({length:o}).map((t,r)=>{const s=`otp-${r}`,a=se[r]||"";return e.createElement(e.Fragment,{key:s},e.createElement(G,{ref:e=>{ne.current[r]=e},index:r,size:H,htmlSize:1,className:n(U.input,`${L}-input`),style:X.input,onChange:ue,value:a,onActiveChange:ie,autoFocus:0===r&&h,onFocus:e=>((e,t)=>{for(let n=0;n<t;n+=1)if(!ne.current[n]?.input?.value){ne.current[n]?.focus();break}N?.(e)})(e,r),...ce}),r<o-1&&e.createElement(Y,{separator:f,index:r,prefixCls:L,className:n(U.separator),style:X.separator}))})))}),ee=t=>t?e.createElement(O,null):e.createElement(q,null),te={click:"onClick",hover:"onMouseOver"},ne=e.forwardRef((t,r)=>{const{disabled:l,action:u="click",visibilityToggle:i=!0,iconRender:c=ee,suffix:p}=t,f=e.useContext(s),d=l??f,g="object"==typeof i&&void 0!==i.visible,[y,C]=e.useState(()=>!!g&&i.visible),x=e.useRef(null);e.useEffect(()=>{g&&C(i.visible)},[g,i]);const v=H(x),h=()=>{if(d)return;y&&v();const e=!y;C(e),"object"==typeof i&&i.onVisibleChange?.(e)},{className:b,prefixCls:E,inputPrefixCls:$,size:w,...N}=t,{getPrefixCls:k}=e.useContext(o),R=k("input",$),S=k("input-password",E),F=i&&(t=>{const n=te[u]||"",r=c(y),s={[n]:h,className:`${t}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return e.cloneElement(e.isValidElement(r)?r:e.createElement("span",null,r),s)})(S),z=n(S,b,{[`${S}-${w}`]:!!w}),I={...m(N,["suffix","iconRender","visibilityToggle"]),type:y?"text":"password",className:z,prefixCls:R,suffix:e.createElement(e.Fragment,null,F,p)};return w&&(I.size=w),e.createElement(Q,{ref:a(r,x),...I})}),re=e=>{const{componentCls:t}=e,n=`${t}-btn`;return{[t]:{width:"100%",[n]:{"&-filled":{background:e.colorFillTertiary,"&:not(:disabled)":{"&:hover":{background:e.colorFillSecondary},"&:active":{background:e.colorFill}}}}}}},se=v(["Input","Search"],e=>[re(e)]),ae=e.forwardRef((t,s)=>{const{prefixCls:o,inputPrefixCls:l,className:u,size:i,style:c,enterButton:p=!1,addonAfter:f,loading:C,disabled:x,onSearch:v,onChange:h,onCompositionStart:b,onCompositionEnd:w,variant:N,onPressEnter:k,classNames:R,styles:S,hidden:F,...z}=t,{direction:I,getPrefixCls:j,classNames:M,styles:P}=r("inputSearch"),A={...t,enterButton:p},[B,O]=y([M,R],[P,S],{props:A},{button:{_default:"root"}}),K=e.useRef(!1),U=j("input-search",o),X=j("input",l),[q,V]=se(U),{compactSize:_}=d(U,I),H=g(e=>i??_??e),W=e.useRef(null),G=e=>{document.activeElement===W.current?.input&&e.preventDefault()},J=e=>{v&&v(W.current?.input?.value,e,{source:"input"})},Y="boolean"==typeof p?e.createElement(L,null):null,Z=`${U}-btn`,ee=n(Z,{[`${Z}-${N}`]:N});let te;const ne=p||{},re=ne.type&&!0===ne.type.__ANT_BUTTON;te=re||"button"===ne.type?E(ne,{onMouseDown:G,onClick:e=>{ne?.props?.onClick?.(e),J(e)},key:"enterButton",...re?{className:ee,size:H}:{}}):e.createElement(D,{classNames:B.button,styles:O.button,className:ee,color:p?"primary":"default",size:H,disabled:x,key:"enterButton",onMouseDown:G,onClick:J,loading:C,icon:Y,variant:"borderless"===N||"filled"===N||"underlined"===N?"text":p?"solid":void 0},p),f&&(te=[te,E(f,{key:"addonAfter"})]);const ae=n(U,V,{[`${U}-rtl`]:"rtl"===I,[`${U}-${H}`]:!!H,[`${U}-with-button`]:!!p},u,q,B.root),oe=T(z,{data:!0}),le=m({...z,classNames:m(B,["button","root"]),styles:m(O,["button","root"]),prefixCls:X,type:"search",size:H,variant:N,onPressEnter:e=>{K.current||C||(k?.(e),J(e))},onCompositionStart:e=>{K.current=!0,b?.(e)},onCompositionEnd:e=>{K.current=!1,w?.(e)},onChange:e=>{e?.target&&"click"===e.type&&v&&v(e.target.value,e,{source:"clear"}),h?.(e)},disabled:x},Object.keys(oe));return e.createElement($,{className:ae,style:{...c,...O.root},...oe,hidden:F},e.createElement(Q,{ref:a(W,s),...le}),te)}),oe=Q;oe.Group=t=>{const{getPrefixCls:r,direction:s}=e.useContext(o),{prefixCls:a,className:l}=t,u=r("input-group",a),i=r("input"),[c,p]=F(i),m=n(u,p,{[`${u}-lg`]:"large"===t.size,[`${u}-sm`]:"small"===t.size,[`${u}-compact`]:t.compact,[`${u}-rtl`]:"rtl"===s},c,l),f=e.useContext(C),d=e.useMemo(()=>({...f,isFormItemInput:!1}),[f]);return e.createElement(C.Provider,{value:d},e.createElement(w.Compact,{className:m,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},t.children))},oe.Search=ae,oe.TextArea=P,oe.Password=ne,oe.OTP=Z;export{oe as I,Q as a};
