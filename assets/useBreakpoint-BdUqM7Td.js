import{R as e,ax as s,r,h as n}from"./index-CLALTDGz.js";const t=()=>e.useReducer(e=>e+1,0),i=["xxl","xl","lg","md","sm","xs"],c=()=>{const[,r]=s(),n=(e=>({xs:`(max-width: ${e.screenXSMax}px)`,sm:`(min-width: ${e.screenSM}px)`,md:`(min-width: ${e.screenMD}px)`,lg:`(min-width: ${e.screenLG}px)`,xl:`(min-width: ${e.screenXL}px)`,xxl:`(min-width: ${e.screenXXL}px)`}))((e=>{const s=e,r=[].concat(i).reverse();return r.forEach((e,n)=>{const t=e.toUpperCase(),i=`screen${t}Min`,c=`screen${t}`;if(!(s[i]<=s[c]))throw new Error(`${i}<=${c} fails : !(${s[i]}<=${s[c]})`);if(n<r.length-1){const e=`screen${t}Max`;if(!(s[c]<=s[e]))throw new Error(`${c}<=${e} fails : !(${s[c]}<=${s[e]})`);const i=`screen${r[n+1].toUpperCase()}Min`;if(!(s[e]<=s[i]))throw new Error(`${e}<=${i} fails : !(${s[e]}<=${s[i]})`)}}),e})(r));return e.useMemo(()=>{const e=new Map;let s=-1,r={};return{responsiveMap:n,matchHandlers:{},dispatch:s=>(r=s,e.forEach(e=>e(r)),e.size>=1),subscribe(n){return e.size||this.register(),s+=1,e.set(s,n),n(r),s},unsubscribe(s){e.delete(s),e.size||this.unregister()},register(){Object.entries(n).forEach(([e,s])=>{const n=({matches:s})=>{this.dispatch({...r,[e]:s})},t=window.matchMedia(s);"function"==typeof t?.addEventListener&&t.addEventListener("change",n),this.matchHandlers[s]={mql:t,listener:n},n(t)})},unregister(){Object.values(n).forEach(e=>{const s=this.matchHandlers[e];"function"==typeof s?.mql?.removeEventListener&&s.mql.removeEventListener("change",s?.listener)}),e.clear()}}},[n])};function a(e=!0,s={}){const i=r.useRef(s),[,a]=t(),o=c();return n(()=>{const s=o.subscribe(s=>{i.current=s,e&&a()});return()=>o.unsubscribe(s)},[]),i.current}export{t as a,i as r,a as u};
